(function e(b,g,d){function c(m,j){if(!g[m]){if(!b[m]){var i=typeof require=="function"&&require;if(!j&&i){return i(m,!0)}if(a){return a(m,!0)}var k=new Error("Cannot find module '"+m+"'");throw k.code="MODULE_NOT_FOUND",k}var h=g[m]={exports:{}};b[m][0].call(h.exports,function(l){var o=b[m][1][l];return c(o?o:l)},h,h.exports,e,b,g,d)}return g[m].exports}var a=typeof require=="function"&&require;for(var f=0;f<d.length;f++){c(d[f])}return c})({1:[function(c,f,b){Object.defineProperty(b,"__esModule",{value:true});var d=function(){function h(m,k){for(var j=0;j<k.length;j++){var l=k[j];l.enumerable=l.enumerable||false;l.configurable=true;if("value" in l){l.writable=true}Object.defineProperty(m,l.key,l)}}return function(k,i,j){if(i){h(k.prototype,i)}if(j){h(k,j)}return k}}();function g(h,i){if(!(h instanceof i)){throw new TypeError("Cannot call a class as a function")}}var a=b.IVPAIDAdUnit=function(){function x(){g(this,x)}d(x,[{key:"handshakeVersion",value:function h(){var D=arguments.length<=0||arguments[0]===undefined?"2.0":arguments[0];var E=arguments.length<=1||arguments[1]===undefined?undefined:arguments[1]}},{key:"initAd",value:function t(G,D,E,F){var J=arguments.length<=4||arguments[4]===undefined?{AdParameters:""}:arguments[4];var H=arguments.length<=5||arguments[5]===undefined?{flashVars:""}:arguments[5];var I=arguments.length<=6||arguments[6]===undefined?undefined:arguments[6]}},{key:"resizeAd",value:function q(F,D,E){var G=arguments.length<=3||arguments[3]===undefined?undefined:arguments[3]}},{key:"startAd",value:function z(){var D=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0]}},{key:"stopAd",value:function l(){var D=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0]}},{key:"pauseAd",value:function y(){var D=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0]}},{key:"resumeAd",value:function B(){var D=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0]}},{key:"expandAd",value:function s(){var D=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0]}},{key:"collapseAd",value:function n(){var D=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0]}},{key:"skipAd",value:function w(){var D=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0]}},{key:"getAdLinear",value:function m(D){}},{key:"getAdWidth",value:function i(D){}},{key:"getAdHeight",value:function C(D){}},{key:"getAdExpanded",value:function A(D){}},{key:"getAdSkippableState",value:function r(D){}},{key:"getAdRemainingTime",value:function u(D){}},{key:"getAdDuration",value:function k(D){}},{key:"setAdVolume",value:function o(D){var E=arguments.length<=1||arguments[1]===undefined?undefined:arguments[1]}},{key:"getAdVolume",value:function j(D){}},{key:"getAdCompanions",value:function v(D){}},{key:"getAdIcons",value:function p(D){}}]);return x}();Object.defineProperty(a,"EVENTS",{writable:false,configurable:false,value:["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"]})},{}],2:[function(d,a,g){var c=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol==="function"&&m.constructor===Symbol?"symbol":typeof m};Object.defineProperty(g,"__esModule",{value:true});var f=function(){function m(q,o){for(var n=0;n<o.length;n++){var p=o[n];p.enumerable=p.enumerable||false;p.configurable=true;if("value" in p){p.writable=true}Object.defineProperty(q,p.key,p)}}return function(p,n,o){if(n){m(p.prototype,n)}if(o){m(p,o)}return p}}();function h(m,n){if(!(m instanceof n)){throw new TypeError("Cannot call a class as a function")}}function k(m,n){if(!m){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return n&&((typeof n==="undefined"?"undefined":c(n))==="object"||typeof n==="function")?n:m}function l(n,m){if(typeof m!=="function"&&m!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof m==="undefined"?"undefined":c(m)))}n.prototype=Object.create(m&&m.prototype,{constructor:{value:n,enumerable:false,writable:true,configurable:true}});if(m){Object.setPrototypeOf?Object.setPrototypeOf(n,m):n.__proto__=m}}var b=d("./IVPAIDAdUnit").IVPAIDAdUnit;var i=Object.getOwnPropertyNames(b.prototype).filter(function(m){return["constructor"].indexOf(m)===-1});var j=g.VPAIDAdUnit=function(o){l(D,o);function D(N){h(this,D);var O=k(this,(D.__proto__||Object.getPrototypeOf(D)).call(this));O._destroyed=false;O._flash=N;return O}f(D,[{key:"_destroy",value:function w(){var N=this;this._destroyed=true;i.forEach(function(O){N._flash.removeCallbackByMethodName(O)});b.EVENTS.forEach(function(O){N._flash.offEvent(O)});this._flash=null}},{key:"isDestroyed",value:function t(){return this._destroyed}},{key:"on",value:function z(N,O){this._flash.on(N,O)}},{key:"off",value:function M(N,O){this._flash.off(N,O)}},{key:"handshakeVersion",value:function m(){var N=arguments.length<=0||arguments[0]===undefined?"2.0":arguments[0];var O=arguments.length<=1||arguments[1]===undefined?undefined:arguments[1];this._flash.callFlashMethod("handshakeVersion",[N],O)}},{key:"initAd",value:function E(Q,N,O,P){var T=arguments.length<=4||arguments[4]===undefined?{AdParameters:""}:arguments[4];var R=arguments.length<=5||arguments[5]===undefined?{flashVars:""}:arguments[5];var S=arguments.length<=6||arguments[6]===undefined?undefined:arguments[6];this._flash.setSize(Q,N);T=T||{AdParameters:""};R=R||{flashVars:""};this._flash.callFlashMethod("initAd",[this._flash.getWidth(),this._flash.getHeight(),O,P,T.AdParameters||"",R.flashVars||""],S)}},{key:"resizeAd",value:function y(P,N,O){var Q=arguments.length<=3||arguments[3]===undefined?undefined:arguments[3];this._flash.setSize(P,N);this._flash.callFlashMethod("resizeAd",[this._flash.getWidth(),this._flash.getHeight(),O],Q)}},{key:"startAd",value:function I(){var N=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0];this._flash.callFlashMethod("startAd",[],N)}},{key:"stopAd",value:function r(){var N=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0];this._flash.callFlashMethod("stopAd",[],N)}},{key:"pauseAd",value:function H(){var N=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0];this._flash.callFlashMethod("pauseAd",[],N)}},{key:"resumeAd",value:function K(){var N=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0];this._flash.callFlashMethod("resumeAd",[],N)}},{key:"expandAd",value:function B(){var N=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0];this._flash.callFlashMethod("expandAd",[],N)}},{key:"collapseAd",value:function u(){var N=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0];this._flash.callFlashMethod("collapseAd",[],N)}},{key:"skipAd",value:function G(){var N=arguments.length<=0||arguments[0]===undefined?undefined:arguments[0];this._flash.callFlashMethod("skipAd",[],N)}},{key:"getAdLinear",value:function s(N){this._flash.callFlashMethod("getAdLinear",[],N)}},{key:"getAdWidth",value:function n(N){this._flash.callFlashMethod("getAdWidth",[],N)}},{key:"getAdHeight",value:function L(N){this._flash.callFlashMethod("getAdHeight",[],N)}},{key:"getAdExpanded",value:function J(N){this._flash.callFlashMethod("getAdExpanded",[],N)}},{key:"getAdSkippableState",value:function A(N){this._flash.callFlashMethod("getAdSkippableState",[],N)}},{key:"getAdRemainingTime",value:function C(N){this._flash.callFlashMethod("getAdRemainingTime",[],N)}},{key:"getAdDuration",value:function q(N){this._flash.callFlashMethod("getAdDuration",[],N)}},{key:"setAdVolume",value:function v(N){var O=arguments.length<=1||arguments[1]===undefined?undefined:arguments[1];this._flash.callFlashMethod("setAdVolume",[N],O)}},{key:"getAdVolume",value:function p(N){this._flash.callFlashMethod("getAdVolume",[],N)}},{key:"getAdCompanions",value:function F(N){this._flash.callFlashMethod("getAdCompanions",[],N)}},{key:"getAdIcons",value:function x(N){this._flash.callFlashMethod("getAdIcons",[],N)}}]);return D}(b)},{"./IVPAIDAdUnit":1}],3:[function(l,b,u){var o=function(){function v(z,x){for(var w=0;w<x.length;w++){var y=x[w];y.enumerable=y.enumerable||false;y.configurable=true;if("value" in y){y.writable=true}Object.defineProperty(z,y.key,y)}}return function(y,w,x){if(w){v(y.prototype,w)}if(x){v(y,x)}return y}}();function i(v,w){if(!(v instanceof w)){throw new TypeError("Cannot call a class as a function")}}var c=l("swfobject");var t=l("./jsFlashBridge").JSFlashBridge;var m=l("./VPAIDAdUnit").VPAIDAdUnit;var g=l("./utils").noop;var j=l("./utils").callbackTimeout;var f=l("./utils").isPositiveInt;var q=l("./utils").createElementWithID;var s=l("./utils").unique("vpaid");var n=l("./flashTester.js").createFlashTester;var k="error";var p="10.1.0";function a(){if(this._destroyed){throw new Error("VPAIDFlashToJS is destroyed!")}}function d(){if(this._loadLater){this.loadAdUnit(this._loadLater.url,this._loadLater.callback);delete this._loadLater}}function h(v,x){var w=arguments.length<=2||arguments[2]===undefined?false:arguments[2]}var r={};b.exports=r},{"./VPAIDAdUnit":2,"./flashTester.js":4,"./jsFlashBridge":5,"./utils":8,swfobject:14}],4:[function(c,b,i){Object.defineProperty(i,"__esModule",{value:true});var g=function(){function o(s,q){for(var p=0;p<q.length;p++){var r=q[p];r.enumerable=r.enumerable||false;r.configurable=true;if("value" in r){r.writable=true}Object.defineProperty(s,r.key,r)}}return function(r,p,q){if(p){o(r.prototype,p)}if(q){o(r,q)}return r}}();function j(o,p){if(!(o instanceof p)){throw new TypeError("Cannot call a class as a function")}}var a=c("swfobject");var h="vpaid_video_flash_tester";var k="vpaid_video_flash_tester_el";var l=c("./jsFlashBridge").JSFlashBridge;var m=c("./utils");var f=c("./registry").MultipleValuesRegistry;var n=function(){function q(s){var u=this;var r=arguments.length<=1||arguments[1]===undefined?{data:"VPAIDFlash.swf",width:800,height:400}:arguments[1];j(this,q);this.parentEl=m.createElementWithID(s,k);m.hideFlashEl(this.parentEl);var t={};t.movie=r.data;t.FlashVars="flashid="+k+"&handler="+l.VPAID_FLASH_HANDLER;t.allowScriptAccess="always";this.el=a.createSWF(r,t,k);this._handlers=new f();this._isSupported=false;if(this.el){m.hideFlashEl(this.el);this._flash=new l(this.el,r.data,k,r.width,r.height,function(){var v=true;u._isSupported=v;u._handlers.get("change").forEach(function(w){setTimeout(function(){w("change",v)},0)})})}}g(q,[{key:"isSupported",value:function p(){return this._isSupported}},{key:"on",value:function o(r,s){this._handlers.add(r,s)}}]);return q}();var d=i.createFlashTester=function d(p,o){if(!window[h]){window[h]=new n(p,o)}return window[h]}},{"./jsFlashBridge":5,"./registry":7,"./utils":8,swfobject:14}],5:[function(c,b,i){Object.defineProperty(i,"__esModule",{value:true});var f=function(){function q(u,s){for(var r=0;r<s.length;r++){var t=s[r];t.enumerable=t.enumerable||false;t.configurable=true;if("value" in t){t.writable=true}Object.defineProperty(u,t.key,t)}}return function(t,r,s){if(r){q(t.prototype,r)}if(s){q(t,s)}return t}}();function k(q,r){if(!(q instanceof r)){throw new TypeError("Cannot call a class as a function")}}var h=c("./utils").unique;var p=c("./utils").isPositiveInt;var n=c("./utils").stringEndsWith;var j=c("./registry").SingleValueRegistry;var d=c("./registry").MultipleValuesRegistry;var a=c("./jsFlashBridgeRegistry");var m="vpaid_video_flash_handler";var g="AdError";var l=i.JSFlashBridge=function(){function K(P,R,N,O,M,Q){k(this,K);this._el=P;this._flashID=N;this._flashURL=R;this._width=O;this._height=M;this._handlers=new d();this._callbacks=new j();this._uniqueMethodIdentifier=h(this._flashID);this._ready=false;this._handShakeHandler=Q;a.addInstance(this._flashID,this)}f(K,[{key:"on",value:function z(M,N){this._handlers.add(M,N)}},{key:"off",value:function L(M,N){return this._handlers.remove(M,N)}},{key:"offEvent",value:function H(M){return this._handlers.removeByKey(M)}},{key:"offAll",value:function w(){return this._handlers.removeAll()}},{key:"callFlashMethod",value:function E(M){var N=arguments.length<=1||arguments[1]===undefined?[]:arguments[1];var Q=arguments.length<=2||arguments[2]===undefined?undefined:arguments[2];var O="";if(Q){O=this._uniqueMethodIdentifier()+"_"+M;this._callbacks.add(O,Q)}try{this._el[M]([O].concat(N))}catch(P){if(Q){o.call(this,O,P)}else{this._trigger(g,P)}}}},{key:"removeCallback",value:function G(M){return this._callbacks.removeByValue(M)}},{key:"removeCallbackByMethodName",value:function A(M){var N=this;this._callbacks.filterKeys(function(O){return n(O,M)}).forEach(function(O){N._callbacks.remove(O)})}},{key:"removeAllCallbacks",value:function s(){return this._callbacks.removeAll()}},{key:"_trigger",value:function q(M,O){var N=this;this._handlers.get(M).forEach(function(P){if(M==="AdClickThru"){P(O)}else{setTimeout(function(){if(N._handlers.get(M).length>0){P(O)}},0)}})}},{key:"_callCallback",value:function C(N,P,O,M){var Q=this._callbacks.get(P);if(!Q){if(O&&P===""){this.trigger(g,O)}return}o.call(this,P,O,M)}},{key:"_handShake",value:function D(M,N){this._ready=true;if(this._handShakeHandler){this._handShakeHandler(M,N);delete this._handShakeHandler}}},{key:"getSize",value:function v(){return{width:this._width,height:this._height}}},{key:"setSize",value:function I(N,M){this._width=p(N,this._width);this._height=p(M,this._height);this._el.setAttribute("width",this._width);this._el.setAttribute("height",this._height)}},{key:"getWidth",value:function u(){return this._width}},{key:"setWidth",value:function t(M){this.setSize(M,this._height)}},{key:"getHeight",value:function B(){return this._height}},{key:"setHeight",value:function y(M){this.setSize(this._width,M)}},{key:"getFlashID",value:function x(){return this._flashID}},{key:"getFlashURL",value:function r(){return this._flashURL}},{key:"isReady",value:function F(){return this._ready}},{key:"destroy",value:function J(){this.offAll();this.removeAllCallbacks();a.removeInstanceByID(this._flashID);if(this._el.parentElement){this._el.parentElement.removeChild(this._el)}}}]);return K}();function o(t,s,q){var r=this;setTimeout(function(){var u=r._callbacks.get(t);if(u){r._callbacks.remove(t);u(s,q)}},0)}Object.defineProperty(l,"VPAID_FLASH_HANDLER",{writable:false,configurable:false,value:m});window[m]=function(t,u,r,v,s,w){var q=a.getInstanceByID(t);if(!q){return}if(r==="handShake"){q._handShake(s,w)}else{if(u!=="event"){q._callCallback(r,v,s,w)}else{q._trigger(r,w)}}}},{"./jsFlashBridgeRegistry":6,"./registry":7,"./utils":8}],6:[function(b,d,a){var c=b("./registry").SingleValueRegistry;var h=new c();var g={};Object.defineProperty(g,"addInstance",{writable:false,configurable:false,value:function f(j,i){h.add(j,i)}});Object.defineProperty(g,"getInstanceByID",{writable:false,configurable:false,value:function f(i){return h.get(i)}});Object.defineProperty(g,"removeInstanceByID",{writable:false,configurable:false,value:function f(i){return h.remove(i)}});d.exports=g},{"./registry":7}],7:[function(b,f,a){Object.defineProperty(a,"__esModule",{value:true});var d=function(){function i(m,k){for(var j=0;j<k.length;j++){var l=k[j];l.enumerable=l.enumerable||false;l.configurable=true;if("value" in l){l.writable=true}Object.defineProperty(m,l.key,l)}}return function(l,j,k){if(j){i(l.prototype,j)}if(k){i(l,k)}return l}}();function h(i,j){if(!(i instanceof j)){throw new TypeError("Cannot call a class as a function")}}var g=a.MultipleValuesRegistry=function(){function j(){h(this,j);this._registries={}}d(j,[{key:"add",value:function q(t,s){if(!this._registries[t]){this._registries[t]=[]}if(this._registries[t].indexOf(s)===-1){this._registries[t].push(s)}}},{key:"get",value:function i(s){return this._registries[s]||[]}},{key:"filterKeys",value:function k(s){return Object.keys(this._registries).filter(s)}},{key:"findByValue",value:function p(t){var u=this;var s=Object.keys(this._registries).filter(function(v){return u._registries[v].indexOf(t)!==-1});return s}},{key:"remove",value:function n(t,u){if(!this._registries[t]){return}var s=this._registries[t].indexOf(u);if(s<0){return}return this._registries[t].splice(s,1)}},{key:"removeByKey",value:function m(t){var s=this._registries[t];delete this._registries[t];return s}},{key:"removeByValue",value:function l(u){var t=this;var s=this.findByValue(u);return s.map(function(v){return t.remove(v,u)})}},{key:"removeAll",value:function o(){var s=this._registries;this._registries={};return s}},{key:"size",value:function r(){return Object.keys(this._registries).length}}]);return j}();var c=a.SingleValueRegistry=function(){function l(){h(this,l);this._registries={}}d(l,[{key:"add",value:function p(s,r){this._registries[s]=r}},{key:"get",value:function i(r){return this._registries[r]}},{key:"filterKeys",value:function j(r){return Object.keys(this._registries).filter(r)}},{key:"findByValue",value:function n(t){var r=this;var s=Object.keys(this._registries).filter(function(u){return r._registries[u]===t});return s}},{key:"remove",value:function m(s){var r=this._registries[s];delete this._registries[s];return r}},{key:"removeByValue",value:function k(t){var r=this;var s=this.findByValue(t);return s.map(function(u){return r.remove(u)})}},{key:"removeAll",value:function o(){var r=this._registries;this._registries={};return r}},{key:"size",value:function q(){return Object.keys(this._registries).length}}]);return l}()},{}],8:[function(b,a,g){Object.defineProperty(g,"__esModule",{value:true});g.unique=f;g.noop=j;g.callbackTimeout=k;g.createElementWithID=c;g.isPositiveInt=l;g.stringEndsWith=i;g.hideFlashEl=h;function f(n){var m=-1;return function(o){return n+"_"+ ++m}}function j(){}function k(p,o,n){var m=setTimeout(function(){o=j;n()},p);return function(){clearTimeout(m);o.apply(this,arguments)}}function c(m,p){var o=arguments.length<=2||arguments[2]===undefined?false:arguments[2];var n=document.createElement("div");n.id=p;if(o){m.innerHTML=""}m.appendChild(n);return n}function l(n,m){return !isNaN(parseFloat(n))&&isFinite(n)&&n>0?n:m}var d=function(){if(String.prototype.endsWith){return String.prototype.endsWith}return function m(p,o){var n=this.toString();if(o===undefined||o>n.length){o=n.length}o-=p.length;var q=n.indexOf(p,o);return q!==-1&&q===o}}();function i(m,n){return d.call(m,n)}function h(m){m.style.position="absolute";m.style.left="-1px";m.style.top="-1px";m.style.width="1px";m.style.height="1px"}},{}],9:[function(f,b,h){var i=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"];var j=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"];var g=["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"];var l=["setAdVolume"];function c(m,n,o){}c.prototype.handshakeVersion=function(m,n){};c.prototype.initAd=function(p,m,n,o,s,q,r){};c.prototype.startAd=function(m){};c.prototype.stopAd=function(m){};c.prototype.skipAd=function(m){};c.prototype.resizeAd=function(o,m,n,p){};c.prototype.pauseAd=function(m){};c.prototype.resumeAd=function(m){};c.prototype.expandAd=function(m){};c.prototype.collapseAd=function(m){};c.prototype.subscribe=function(o,n,m){};c.prototype.unsubscribe=function(n,m){};c.prototype.getAdLinear=function(m){};c.prototype.getAdWidth=function(m){};c.prototype.getAdHeight=function(m){};c.prototype.getAdExpanded=function(m){};c.prototype.getAdSkippableState=function(m){};c.prototype.getAdRemainingTime=function(m){};c.prototype.getAdDuration=function(m){};c.prototype.getAdVolume=function(m){};c.prototype.getAdCompanions=function(m){};c.prototype.getAdIcons=function(m){};c.prototype.setAdVolume=function(m,n){};a(c,"METHODS",i);a(c,"GETTERS",g);a(c,"SETTERS",l);a(c,"EVENTS",j);var k=i.filter(function(m){return["skipAd"].indexOf(m)===-1});a(c,"checkVPAIDInterface",function d(n){var m=k.every(function(o){return typeof n[o]==="function"});return m});b.exports=c;function a(n,m,o){Object.defineProperty(n,m,{writable:false,configurable:false,value:o})}},{}],10:[function(j,d,w){var q=j("./IVPAIDAdUnit");var v=j("./subscriber");var r=q.checkVPAIDInterface;var s=j("./utils");var l=q.METHODS;var g="AdError";var t="AdClickThru";var p=q.EVENTS.filter(function(x){return x!=t});function m(A,y,z,x){this._isValid=r(A);if(this._isValid){this._creative=A;this._el=y;this._videoEl=z;this._iframe=x;this._subscribers=new v();s.setFullSizeStyle(y);a.call(this)}}m.prototype=Object.create(q.prototype);m.prototype.isValidVPAIDAd=function n(){return this._isValid};q.METHODS.forEach(function(y){var x=["subscribe","unsubscribe","initAd"];if(x.indexOf(y)!==-1){return}m.prototype[y]=function(){var A=q.prototype[y].length;var z=Array.prototype.slice.call(arguments);var B=(A===z.length)?z.pop():undefined;setTimeout(function(){var C,D=null;try{C=this._creative[y].apply(this._creative,z)}catch(E){D=E}c(B,this._subscribers,D,C)}.bind(this),0)}});m.prototype.initAd=function o(A,x,y,z,D,B,C){D=D||{};B=s.extend({slot:this._el,videoSlot:this._videoEl},B||{});setTimeout(function(){var E;try{this._creative.initAd(A,x,y,z,D,B)}catch(F){E=F}c(C,this._subscribers,E)}.bind(this),0)};m.prototype.subscribe=function k(z,y,x){this._subscribers.subscribe(y,z,x)};m.prototype.unsubscribe=function f(y,x){this._subscribers.unsubscribe(x,y)};m.prototype.on=m.prototype.subscribe;m.prototype.off=m.prototype.unsubscribe;q.GETTERS.forEach(function(x){m.prototype[x]=function(y){setTimeout(function(){var z,A=null;try{z=this._creative[x]()}catch(B){A=B}c(y,this._subscribers,A,z)}.bind(this),0)}});m.prototype.setAdVolume=function h(x,y){setTimeout(function(){var z,A=null;try{this._creative.setAdVolume(x);z=this._creative.getAdVolume()}catch(B){A=B}if(!A){A=s.validate(z===x,"failed to apply volume: "+x)}c(y,this._subscribers,A,z)}.bind(this),0)};m.prototype._destroy=function u(){this.stopAd();this._subscribers.unsubscribeAll()};function a(){p.forEach(function(z){this._creative.subscribe(b.bind(this,z),z)}.bind(this));this._creative.subscribe(i.bind(this),t);if(this._videoEl){var y=this._iframe.contentDocument.documentElement;var x=this._videoEl;y.addEventListener("click",function(z){if(z.target===y){x.click()}})}}function i(y,z,x){this._subscribers.triggerSync(t,{url:y,id:z,playerHandles:x})}function b(x){this._subscribers.trigger(x,Array.prototype.slice(arguments,1))}function c(A,z,y,x){if(A){A(y,x)}else{if(y){z.trigger(g,y)}}}d.exports=m},{"./IVPAIDAdUnit":9,"./subscriber":12,"./utils":13}],11:[function(l,d,u){var r=l("./utils");var c=r.unique("vpaidIframe");var n=l("./VPAIDAdUnit");var g='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"></head><body style="margin:0;padding:0"><div class="ad-element"></div><script type="text/javascript" src="{{iframeURL_JS}}"><\/script><script type="text/javascript">window.parent.postMessage(\'{"event": "ready", "id": "{{iframeID}}"}\', \'{{origin}}\');<\/script></body></html>';var a="AdStopped";function o(x,y,z,w){z=z||{};this._id=c();this._destroyed=false;this._frameContainer=r.createElementInEl(x,"div");this._videoEl=y;this._vpaidOptions=w||{timeout:10000};this._templateConfig={template:z.template||g,extraOptions:z.extraOptions||{}}}o.prototype.destroy=function t(){if(this._destroyed){return}this._destroyed=true;m.call(this)};o.prototype.isDestroyed=function j(){return this._destroyed};o.prototype.loadAdUnit=function q(y,B){b.call(this);m.call(this);var x=this;var A=r.createIframeWithContent(this._frameContainer,this._templateConfig.template,r.extend({iframeURL_JS:y,iframeID:this.getID(),origin:s()},this._templateConfig.extraOptions));this._frame=A;window.AdUnitFrameLoaded=w;this._onLoad=r.callbackTimeout(this._vpaidOptions.timeout,w.bind(this),z.bind(this));this.createAdVpaid;window.addEventListener("message",function(){});window.parent.window.addEventListener("message",this._onLoad);function w(G){if(G.origin!==s()){return}var D=JSON.parse(G.data);if(D.id!==x.getID()){return}var E,F,C;if(!x._frame.contentWindow){F="the iframe is not anymore in the DOM tree"}else{C=x._frame.contentWindow.getVPAIDAd;F=r.validate(typeof C==="function","the ad didn't return a function to create an ad")}if(!F){var H=x._frame.contentWindow.document.querySelector(".ad-element");this.createAdVpaid=C();E=new n(this.createAdVpaid,H,x._videoEl,x._frame);E.subscribe(a,p.bind(x));F=r.validate(E.isValidVPAIDAd(),"the add is not fully complaint with VPAID specification")}x._adUnit=E;i.call(x);B(F,F?null:E);return true}function z(){B("timeout",null)}};o.prototype.unloadAdUnit=function v(){m.call(this)};o.prototype.getID=function(){return this._id};function h(w){var x=this[w];if(x){x.remove();delete this[w]}}function p(){f.call(this);delete this._adUnit}function m(){f.call(this);k.call(this)}function f(){h.call(this,"_frame");i.call(this)}function i(){if(this._onLoad){window.removeEventListener("message",this._onLoad);r.clearCallbackTimeout(this._onLoad);delete this._onLoad}}function k(){if(this._adUnit){this._adUnit.stopAd();delete this._adUnit}}function b(){if(this._destroyed){throw new Error("VPAIDHTML5Client already destroyed!")}}function s(){if(window.location.origin){return window.location.origin}else{return window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}}d.exports=o},{"./VPAIDAdUnit":10,"./utils":13}],12:[function(c,a,f){function j(){this._subscribers={}}j.prototype.subscribe=function d(m,k,l){if(!this.isHandlerAttached(m,k)){this.get(k).push({handler:m,context:l,eventName:k})}};j.prototype.unsubscribe=function i(l,k){this._subscribers[k]=this.get(k).filter(function(m){return l!==m.handler})};j.prototype.unsubscribeAll=function g(){this._subscribers={}};j.prototype.trigger=function(k,m){var l=this;var n=this.get(k).concat(this.get("*"));n.forEach(function(o){setTimeout(function(){if(l.isHandlerAttached(o.handler,o.eventName)){o.handler.call(o.context,m)}},0)})};j.prototype.triggerSync=function(k,l){var m=this.get(k).concat(this.get("*"));m.forEach(function(n){n.handler.call(n.context,l)})};j.prototype.get=function b(k){if(!this._subscribers[k]){this._subscribers[k]=[]}return this._subscribers[k]};j.prototype.isHandlerAttached=function h(l,k){return this.get(k).some(function(m){return l===m.handler})};a.exports=j},{}],13:[function(f,c,i){function p(){}function o(s,r){return s?null:new Error(r)}var a={};function l(r){var s=a[r];if(s){clearTimeout(s);delete a[r]}}function q(v,t,s){var u,r;r=setTimeout(function(){t=p;delete r[u];s()},v);u=function(){if(t.apply(this,arguments)){l(u)}};a[u]=r;return u}function k(s,r,u){var t=document.createElement(r);if(u){t.id=u}s.appendChild(t);return t}function d(t,s,u){var r=n(t,null,u.zIndex);r.setAttribute("sandbox","allow-scripts allow-same-origin");if(!j(r,b(s,u))){return}return r}function n(s,r,u){var t=document.createElement("iframe");t.src=r||"about:blank";t.marginWidth="0";t.marginHeight="0";t.frameBorder="0";t.width="100%";t.height="100%";g(t);if(u){t.style.zIndex=u}t.setAttribute("SCROLLING","NO");s.innerHTML="";s.appendChild(t);return t}function g(r){r.style.position="absolute";r.style.left="0";r.style.top="0";r.style.margin="0px";r.style.padding="0px";r.style.border="none";r.style.width="100%";r.style.height="100%"}function b(r,s){Object.keys(s).forEach(function(t){var u=(typeof u==="object")?JSON.stringify(s[t]):s[t];r=r.replace(new RegExp("{{"+t+"}}","g"),u)});return r}function j(r,s){var t=r.contentWindow&&r.contentWindow.document;if(!t){return false}t.write(s);return true}function m(r,s){Object.keys(s).forEach(function(t){r[t]=s[t]});return r}function h(s){var r=-1;return function(){return s+"_"+(++r)}}c.exports={noop:p,validate:o,clearCallbackTimeout:l,callbackTimeout:q,createElementInEl:k,createIframeWithContent:d,createIframe:n,setFullSizeStyle:g,simpleTemplate:b,setIframeContent:j,extend:m,unique:h}},{}],14:[function(b,c,a){
/*    SWFObject v2.3.20130521 <http://github.com/swfobject/swfobject>
			 is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
			 */
(function(d,f){if(typeof define==="function"&&define.amd){define(f)}else{if(typeof c==="object"&&c.exports){c.exports=f()}else{d.swfobject=f()}}}(this,function(){var G="undefined",u="object",X="Shockwave Flash",ad="ShockwaveFlash.ShockwaveFlash",t="application/x-shockwave-flash",W="SWFObjectExprInst",A="onreadystatechange",U=window,l=document,w=navigator,Z=false,ab=[],r=[],T=[],O=[],L,s,H,E,P=false,d=false,p,J,n=true,N=false,S=function(){var ah=typeof l.getElementById!==G&&typeof l.getElementsByTagName!==G&&typeof l.createElement!==G,ao=w.userAgent.toLowerCase(),af=w.platform.toLowerCase(),al=af?/win/.test(af):/win/.test(ao),aj=af?/mac/.test(af):/mac/.test(ao),am=/webkit/.test(ao)?parseFloat(ao.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,ae=w.appName==="Microsoft Internet Explorer",an=[0,0,0],ai=null;if(typeof w.plugins!==G&&typeof w.plugins[X]===u){ai=w.plugins[X].description;if(ai&&(typeof w.mimeTypes!==G&&w.mimeTypes[t]&&w.mimeTypes[t].enabledPlugin)){Z=true;ae=false;ai=ai.replace(/^.*\s+(\S+\s+\S+$)/,"$1");an[0]=q(ai.replace(/^(.*)\..*$/,"$1"));an[1]=q(ai.replace(/^.*\.(.*)\s.*$/,"$1"));an[2]=/[a-zA-Z]/.test(ai)?q(ai.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0}}else{if(typeof U.ActiveXObject!==G){try{var ak=new ActiveXObject(ad);if(ak){ai=ak.GetVariable("$version");if(ai){ae=true;ai=ai.split(" ")[1].split(",");an=[q(ai[0]),q(ai[1]),q(ai[2])]}}}catch(ag){}}}return{w3:ah,pv:an,wk:am,ie:ae,win:al,mac:aj}}(),m=function(){if(!S.w3){return}if((typeof l.readyState!==G&&(l.readyState==="complete"||l.readyState==="interactive"))||(typeof l.readyState===G&&(l.getElementsByTagName("body")[0]||l.body))){j()}if(!P){if(typeof l.addEventListener!==G){l.addEventListener("DOMContentLoaded",j,false)}if(S.ie){l.attachEvent(A,function ae(){if(l.readyState==="complete"){l.detachEvent(A,ae);j()}});if(U==top){(function ag(){if(P){return}try{l.documentElement.doScroll("left")}catch(ah){setTimeout(ag,0);return}j()}())}}if(S.wk){(function af(){if(P){return}if(!/loaded|complete/.test(l.readyState)){setTimeout(af,0);return}j()}())}}}();function j(){if(P||!document.getElementsByTagName("body")[0]){return}try{var ag,ah=F("span");ah.style.display="none";ag=l.getElementsByTagName("body")[0].appendChild(ah);ag.parentNode.removeChild(ag);ag=null;ah=null}catch(ai){return}P=true;var ae=ab.length;for(var af=0;af<ae;af++){ab[af]()}}function Q(ae){if(P){ae()}else{ab[ab.length]=ae}}function v(af){if(typeof U.addEventListener!==G){U.addEventListener("load",af,false)}else{if(typeof l.addEventListener!==G){l.addEventListener("load",af,false)}else{if(typeof U.attachEvent!==G){k(U,"onload",af)}else{if(typeof U.onload==="function"){var ae=U.onload;U.onload=function(){ae();af()}}else{U.onload=af}}}}}function ac(){var ae=l.getElementsByTagName("body")[0];var ai=F(u);ai.setAttribute("style","visibility: hidden;");ai.setAttribute("type",t);var ah=ae.appendChild(ai);if(ah){var ag=0;(function af(){if(typeof ah.GetVariable!==G){try{var ak=ah.GetVariable("$version");if(ak){ak=ak.split(" ")[1].split(",");S.pv=[q(ak[0]),q(ak[1]),q(ak[2])]}}catch(aj){S.pv=[8,0,0]}}else{if(ag<10){ag++;setTimeout(af,10);return}}ae.removeChild(ai);ah=null;K()}())}else{K()}}function K(){var an=r.length;if(an>0){for(var am=0;am<an;am++){var af=r[am].id;var ai=r[am].callbackFn;var ah={success:false,id:af};if(S.pv[0]>0){var al=g(af);if(al){if(I(r[am].swfVersion)&&!(S.wk&&S.wk<312)){z(af,true);if(ai){ah.success=true;ah.ref=C(af);ah.id=af;ai(ah)}}else{if(r[am].expressInstall&&D()){var ap={};ap.data=r[am].expressInstall;ap.width=al.getAttribute("width")||"0";ap.height=al.getAttribute("height")||"0";if(al.getAttribute("class")){ap.styleclass=al.getAttribute("class")}if(al.getAttribute("align")){ap.align=al.getAttribute("align")}var ao={};var ae=al.getElementsByTagName("param");var aj=ae.length;for(var ak=0;ak<aj;ak++){if(ae[ak].getAttribute("name").toLowerCase()!=="movie"){ao[ae[ak].getAttribute("name")]=ae[ak].getAttribute("value")}}V(ap,ao,af,ai)}else{f(al);if(ai){ai(ah)}}}}}else{z(af,true);if(ai){var ag=C(af);if(ag&&typeof ag.SetVariable!==G){ah.success=true;ah.ref=ag;ah.id=ag.id}ai(ah)}}}}}ab[0]=function(){if(Z){ac()}else{K()}};function C(ag){var ae=null,af=g(ag);if(af&&af.nodeName.toUpperCase()==="OBJECT"){if(typeof af.SetVariable!==G){ae=af}else{ae=af.getElementsByTagName(u)[0]||af}}return ae}function D(){return !d&&I("6.0.65")&&(S.win||S.mac)&&!(S.wk&&S.wk<312)}function V(ah,ai,ae,ag){var al=g(ae);ae=aa(ae);d=true;H=ag||null;E={success:false,id:ae};if(al){if(al.nodeName.toUpperCase()==="OBJECT"){L=M(al);s=null}else{L=al;s=ae}ah.id=W;if(typeof ah.width===G||(!/%$/.test(ah.width)&&q(ah.width)<310)){ah.width="310"}if(typeof ah.height===G||(!/%$/.test(ah.height)&&q(ah.height)<137)){ah.height="137"}var ak=S.ie?"ActiveX":"PlugIn",aj="MMredirectURL="+encodeURIComponent(U.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+ak+"&MMdoctitle="+encodeURIComponent(l.title.slice(0,47)+" - Flash Player Installation");if(typeof ai.flashvars!==G){ai.flashvars+="&"+aj}else{ai.flashvars=aj}if(S.ie&&al.readyState!=4){var af=F("div");ae+="SWFObjectNew";af.setAttribute("id",ae);al.parentNode.insertBefore(af,al);al.style.display="none";B(al)}x(ah,ai,ae)}}function f(af){if(S.ie&&af.readyState!=4){af.style.display="none";var ae=F("div");af.parentNode.insertBefore(ae,af);ae.parentNode.replaceChild(M(af),ae);B(af)}else{af.parentNode.replaceChild(M(af),af)}}function M(ai){var ah=F("div");if(S.win&&S.ie){ah.innerHTML=ai.innerHTML}else{var af=ai.getElementsByTagName(u)[0];if(af){var aj=af.childNodes;if(aj){var ae=aj.length;for(var ag=0;ag<ae;ag++){if(!(aj[ag].nodeType==1&&aj[ag].nodeName==="PARAM")&&!(aj[ag].nodeType==8)){ah.appendChild(aj[ag].cloneNode(true))}}}}}return ah}function o(ae,af){var ag=F("div");ag.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+ae+"'>"+af+"</object>";return ag.firstChild}function x(am,al,af){var ae,ai=g(af);af=aa(af);if(S.wk&&S.wk<312){return ae}if(ai){var ah=(S.ie)?F("div"):F(u),ak,ag,aj;if(typeof am.id===G){am.id=af}for(aj in al){if(al.hasOwnProperty(aj)&&aj.toLowerCase()!=="movie"){i(ah,aj,al[aj])}}if(S.ie){ah=o(am.data,ah.innerHTML)}for(ak in am){if(am.hasOwnProperty(ak)){ag=ak.toLowerCase();if(ag==="styleclass"){ah.setAttribute("class",am[ak])}else{if(ag!=="classid"&&ag!=="data"){ah.setAttribute(ak,am[ak])}}}}if(S.ie){T[T.length]=am.id}else{ah.setAttribute("type",t);ah.setAttribute("data",am.data)}ai.parentNode.replaceChild(ah,ai);ae=ah}return ae}function i(ag,ae,af){var ah=F("param");ah.setAttribute("name",ae);ah.setAttribute("value",af);ag.appendChild(ah)}function B(ag){var af=g(ag);if(af&&af.nodeName.toUpperCase()==="OBJECT"){if(S.ie){af.style.display="none";(function ae(){if(af.readyState==4){for(var ah in af){if(typeof af[ah]==="function"){af[ah]=null}}af.parentNode.removeChild(af)}else{setTimeout(ae,10)}}())}else{af.parentNode.removeChild(af)}}}function Y(ae){return(ae&&ae.nodeType&&ae.nodeType===1)}function aa(ae){return(Y(ae))?ae.id:ae}function g(ag){if(Y(ag)){return ag}var ae=null;try{ae=l.getElementById(ag)}catch(af){}return ae}function F(ae){return l.createElement(ae)}function q(ae){return parseInt(ae,10)}function k(ag,ae,af){ag.attachEvent(ae,af);O[O.length]=[ag,ae,af]}function I(ag){ag+="";var af=S.pv,ae=ag.split(".");ae[0]=q(ae[0]);ae[1]=q(ae[1])||0;ae[2]=q(ae[2])||0;return(af[0]>ae[0]||(af[0]==ae[0]&&af[1]>ae[1])||(af[0]==ae[0]&&af[1]==ae[1]&&af[2]>=ae[2]))?true:false}function y(aj,af,ak,ai){var ah=l.getElementsByTagName("head")[0];if(!ah){return}var ae=(typeof ak==="string")?ak:"screen";if(ai){p=null;J=null}if(!p||J!=ae){var ag=F("style");ag.setAttribute("type","text/css");ag.setAttribute("media",ae);p=ah.appendChild(ag);if(S.ie&&typeof l.styleSheets!==G&&l.styleSheets.length>0){p=l.styleSheets[l.styleSheets.length-1]}J=ae}if(p){if(typeof p.addRule!==G){p.addRule(aj,af)}else{if(typeof l.createTextNode!==G){p.appendChild(l.createTextNode(aj+" {"+af+"}"))}}}}function z(ah,ae){if(!n){return}var af=ae?"visible":"hidden",ag=g(ah);if(P&&ag){ag.style.visibility=af}else{if(typeof ah==="string"){y("#"+ah,"visibility:"+af)}}}function R(af){var ag=/[\\\"<>\.;]/;var ae=ag.exec(af)!==null;return ae&&typeof encodeURIComponent!==G?encodeURIComponent(af):af}var h=function(){if(S.ie){window.attachEvent("onunload",function(){var aj=O.length;for(var ai=0;ai<aj;ai++){O[ai][0].detachEvent(O[ai][1],O[ai][2])}var ag=T.length;for(var ah=0;ah<ag;ah++){B(T[ah])}for(var af in S){S[af]=null}S=null;for(var ae in swfobject){swfobject[ae]=null}swfobject=null})}}();return{registerObject:function(ai,ae,ah,ag){if(S.w3&&ai&&ae){var af={};af.id=ai;af.swfVersion=ae;af.expressInstall=ah;af.callbackFn=ag;r[r.length]=af;z(ai,false)}else{if(ag){ag({success:false,id:ai})}}},getObjectById:function(ae){if(S.w3){return C(ae)}},embedSWF:function(aj,ap,am,ao,af,ai,ah,al,an,ak){var ag=aa(ap),ae={success:false,id:ag};if(S.w3&&!(S.wk&&S.wk<312)&&aj&&ap&&am&&ao&&af){z(ag,false);Q(function(){am+="";ao+="";var ar={};if(an&&typeof an===u){for(var av in an){ar[av]=an[av]}}ar.data=aj;ar.width=am;ar.height=ao;var aw={};if(al&&typeof al===u){for(var at in al){aw[at]=al[at]}}if(ah&&typeof ah===u){for(var aq in ah){if(ah.hasOwnProperty(aq)){var au=(N)?encodeURIComponent(aq):aq,ax=(N)?encodeURIComponent(ah[aq]):ah[aq];if(typeof aw.flashvars!==G){aw.flashvars+="&"+au+"="+ax}else{aw.flashvars=au+"="+ax}}}}if(I(af)){var ay=x(ar,aw,ap);if(ar.id==ag){z(ag,true)}ae.success=true;ae.ref=ay;ae.id=ay.id}else{if(ai&&D()){ar.data=ai;V(ar,aw,ap,ak);return}else{z(ag,true)}}if(ak){ak(ae)}})}else{if(ak){ak(ae)}}},switchOffAutoHideShow:function(){n=false},enableUriEncoding:function(ae){N=(typeof ae===G)?true:ae},ua:S,getFlashPlayerVersion:function(){return{major:S.pv[0],minor:S.pv[1],release:S.pv[2]}},hasFlashPlayerVersion:I,createSWF:function(ag,af,ae){if(S.w3){return x(ag,af,ae)}else{return undefined}},showExpressInstall:function(ag,ah,ae,af){if(S.w3&&D()){V(ag,ah,ae,af)}},removeSWF:function(ae){if(S.w3){B(ae)}},createCSS:function(ah,ag,af,ae){if(S.w3){y(ah,ag,af,ae)}},addDomLoadEvent:Q,addLoadEvent:v,getQueryParamValue:function(ah){var ag=l.location.search||l.location.hash;if(ag){if(/\?/.test(ag)){ag=ag.split("?")[1]}if(!ah){return R(ag)}var af=ag.split("&");for(var ae=0;ae<af.length;ae++){if(af[ae].substring(0,af[ae].indexOf("="))==ah){return R(af[ae].substring((af[ae].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(d){var ae=g(W);if(ae&&L){ae.parentNode.replaceChild(L,ae);if(s){z(s,true);if(S.ie){L.style.display="block"}}if(H){H(E)}}d=false}},version:"2.3"}}))},{}],15:[function(b,d,a){var c=b("./InLine");var g=b("./Wrapper");function f(h){if(!(this instanceof f)){return new f(h)}this.initialize(h)}f.prototype.initialize=function(h){this.id=h.attr("id");this.sequence=h.attr("sequence");if(h.inLine){this.inLine=new c(h.inLine)}if(h.wrapper){this.wrapper=new g(h.wrapper)}};d.exports=f},{"./InLine":18,"./Wrapper":28}],16:[function(d,g,a){var h=d("./TrackingEvent");var f=d("../../utils/utilityFunctions");var c=d("../../utils/xml");var b=d("../../utils/consoleLogger");function i(m){if(!(this instanceof i)){return new i(m)}b.info(">>>>>>>>>> companion");b.info(this);b.info("<Companion> found companion ad");b.debug("<Companion>  companionJTree:",m);this.creativeType=c.attr(m.staticResource,"creativeType");this.staticResource=c.keyValue(m.staticResource);b.info("<Companion>  creativeType: "+this.creativeType);b.info("<Companion>  staticResource: "+this.staticResource);var j=null;if(c.keyValue(m.HTMLResource)){j=c.keyValue(m.HTMLResource)}else{if(c.keyValue(m.hTMLResource)){j=c.keyValue(m.hTMLResource)}}if(j!==null){b.info("<Companion> found html resource",j)}this.htmlResource=j;var k=null;if(c.keyValue(m.IFrameResource)){k=c.keyValue(m.IFrameResource)}else{if(c.keyValue(m.iFrameresource)){k=c.keyValue(m.iFrameresource)}}if(k!==null){b.info("<Companion> found iframe resource",k)}this.iframeResource=k;this.id=c.attr(m,"id");this.width=c.attr(m,"width");this.height=c.attr(m,"height");this.expandedWidth=c.attr(m,"expandedWidth");this.expandedHeight=c.attr(m,"expandedHeight");this.scalable=c.attr(m,"scalable");this.maintainAspectRatio=c.attr(m,"maintainAspectRatio");this.minSuggestedDuration=c.attr(m,"minSuggestedDuration");this.apiFramework=c.attr(m,"apiFramework");this.companionClickThrough=c.keyValue(m.companionClickThrough);this.trackingEvents=l(m.trackingEvents&&m.trackingEvents.tracking);b.info("<Companion>  companionClickThrough: "+this.companionClickThrough);function l(n){var o=[];if(f.isDefined(n)){n=f.isArray(n)?n:[n];n.forEach(function(p){o.push(new h(p))})}return o}}g.exports=i},{"../../utils/consoleLogger":41,"../../utils/utilityFunctions":47,"../../utils/xml":48,"./TrackingEvent":21}],17:[function(f,h,d){var a=f("./Linear");var i=f("./Companion");var g=f("../../utils/utilityFunctions");function c(k){if(!(this instanceof c)){return new c(k)}this.id=k.attr("id");this.sequence=k.attr("sequence");this.adId=k.attr("adId");this.apiFramework=k.attr("apiFramework");if(k.linear){this.linear=new a(k.linear)}if(k.companionAds){var j=[];var l=k.companionAds&&k.companionAds.companion;if(g.isDefined(l)){l=g.isArray(l)?l:[l];l.forEach(function(m){j.push(new i(m))})}this.companionAds=j}}c.prototype.isSupported=function(){if(this.linear){return this.linear.isSupported()}return true};c.parseCreatives=function b(k){var l=[];var j;if(g.isDefined(k)&&g.isDefined(k.creative)){j=g.isArray(k.creative)?k.creative:[k.creative];j.forEach(function(m){l.push(new c(m))})}return l};h.exports=c},{"../../utils/utilityFunctions":47,"./Companion":16,"./Linear":19}],18:[function(d,h,b){var i=d("./vastUtil");var a=d("./Creative");var g=d("../../utils/utilityFunctions");var c=d("../../utils/xml");function f(j){if(!(this instanceof f)){return new f(j)}this.adTitle=c.keyValue(j.adTitle);this.adSystem=c.keyValue(j.adSystem);this.impressions=i.parseImpressions(j.impression);this.creatives=a.parseCreatives(j.creatives);this.description=c.keyValue(j.description);this.advertiser=c.keyValue(j.advertiser);this.surveys=k(j.survey);this.error=c.keyValue(j.error);this.pricing=c.keyValue(j.pricing);this.extensions=j.extensions;function k(l){if(l){return g.transformArray(g.isArray(l)?l:[l],function(m){if(g.isNotEmptyString(m.keyValue)){return{uri:m.keyValue,type:m.attr("type")}}return undefined})}return[]}}f.prototype.isSupported=function(){var k,j;if(this.creatives.length===0){return false}for(k=0,j=this.creatives.length;k<j;k+=1){if(!this.creatives[k].isSupported()){return false}}return true};h.exports=f},{"../../utils/utilityFunctions":47,"../../utils/xml":48,"./Creative":17,"./vastUtil":30}],19:[function(f,c,g){var a=f("./TrackingEvent");var i=f("./MediaFile");var b=f("./VideoClicks");var d=f("../../utils/utilityFunctions");var k=f("./parsers");var h=f("../../utils/xml");function j(m){if(!(this instanceof j)){return new j(m)}this.duration=k.duration(h.keyValue(m.duration));this.mediaFiles=l(m.mediaFiles&&m.mediaFiles.mediaFile);this.trackingEvents=n(m.trackingEvents&&m.trackingEvents.tracking,this.duration);this.skipoffset=k.offset(h.attr(m,"skipoffset"),this.duration);if(m.videoClicks){this.videoClicks=new b(m.videoClicks)}if(m.adParameters){this.adParameters=h.keyValue(m.adParameters);if(h.attr(m.adParameters,"xmlEncoded")){this.adParameters=h.decode(this.adParameters)}}function n(o,p){var q=[];if(d.isDefined(o)){o=d.isArray(o)?o:[o];o.forEach(function(r){q.push(new a(r,p))})}return q}function l(o){var p=[];if(d.isDefined(o)){o=d.isArray(o)?o:[o];o.forEach(function(q){p.push(new i(q))})}return p}}j.prototype.isSupported=function(){var m,l;for(m=0,l=this.mediaFiles.length;m<l;m+=1){if(this.mediaFiles[m].isSupported()){return true}}return false};c.exports=j},{"../../utils/utilityFunctions":47,"../../utils/xml":48,"./MediaFile":20,"./TrackingEvent":21,"./VideoClicks":27,"./parsers":29}],20:[function(d,g,b){var c=d("../../utils/xml");var h=d("./vastUtil");var f=["delivery","type","width","height","codec","id","bitrate","minBitrate","maxBitrate","scalable","maintainAspectRatio","apiFramework"];function a(j){if(!(this instanceof a)){return new a(j)}this.src=c.keyValue(j);for(var i=0;i<f.length;i++){var k=f[i];this[k]=j.attr(k)}}a.prototype.isSupported=function(){if(h.isVPAID(this)){return !!h.findSupportedVPAIDTech(this.type)}if(this.type==="video/x-flv"){return h.isFlashSupported()}return true};g.exports=a},{"../../utils/xml":48,"./vastUtil":30}],21:[function(c,f,a){var d=c("./parsers");var b=c("../../utils/xml");function g(h,i){if(!(this instanceof g)){return new g(h,i)}this.name=h.attr("event");this.uri=b.keyValue(h);if("progress"===this.name){this.offset=d.offset(h.attr("offset"),i)}}f.exports=g},{"../../utils/xml":48,"./parsers":29}],22:[function(f,d,h){var a=f("./Ad");var m=f("./VASTError");var n=f("./VASTResponse");var j=f("./vastUtil");var g=f("../../utils/async");var p=f("../../utils/http").http;var c=f("../../utils/utilityFunctions");var i=f("../../utils/xml");var q=f("../../utils/consoleLogger");function k(s){if(!(this instanceof k)){return new k(s)}var r={WRAPPER_LIMIT:5};s=s||{};this.settings=c.extend({},s,r);this.errorURLMacros=[]}k.prototype.getVASTResponse=function o(v,w){var u=this;var t=s(v,w);if(t){if(c.isFunction(w)){return w(t)}throw t}g.waterfall([this._getVASTAd.bind(this,v),r],w);function r(y,x){try{var z=u._buildVASTResponse(y);x(null,z)}catch(A){x(A)}}function s(y,x){if(!y){return new m("on VASTClient.getVASTResponse, missing ad tag URL")}if(!c.isFunction(x)){return new m("on VASTClient.getVASTResponse, missing callback function")}}};k.prototype._getVASTAd=function(t,y){var u=this;r(t,function(B,D){var C=D&&c.isArray(D.ads)?D.ads:null;if(B){u._trackError(B,C);return y(B,C)}A(C.shift(),[],E);function E(F,G){if(F){u._trackError(F,G);if(C.length>0){A(C.shift(),[],E)}else{y(F,G)}}else{y(null,G)}}});function r(C,D){var B=u._requestVASTXml.bind(u,C);g.waterfall([B,s],D)}function s(D,E){var B;try{B=i.toJXONTree(D);q.debug("built JXONTree from VAST response:",B);if(c.isArray(B.ad)){B.ads=B.ad}else{if(B.ad){B.ads=[B.ad]}else{B.ads=[]}}E(z(B),B)}catch(C){E(new m("on VASTClient.getVASTAd.buildVastWaterfall, error parsing xml",100),null)}}function z(C){var B=i.attr(C,"version");if(!C.ad){return new m("on VASTClient.getVASTAd.validateVASTTree, no Ad in VAST tree",303)}if(B&&(B!=3&&B!=2)){return new m('on VASTClient.getVASTAd.validateVASTTree, not supported VAST version "'+B+'"',102)}return null}function A(B,D,C){if(D.length>=u.WRAPPER_LIMIT){return C(new m("on VASTClient.getVASTAd.getAd, players wrapper limit reached (the limit is "+u.WRAPPER_LIMIT+")",302),D)}g.waterfall([function(E){if(c.isString(B)){v(B,E)}else{E(null,B)}},w],function(E,F){if(F){D.push(F)}if(E){return C(E,D)}if(F.wrapper){return A(F.wrapper.VASTAdTagURI,D,C)}return C(null,D)})}function w(B,E){try{var C=new a(B);E(x(C),C)}catch(D){E(new m("on VASTClient.getVASTAd.buildAd, error parsing xml",100),null)}}function x(D){var E=D.wrapper;var C=D.inLine;var B="on VASTClient.getVASTAd.validateAd, ";if(C&&E){return new m(B+"InLine and Wrapper both found on the same Ad",101)}if(!C&&!E){return new m(B+"nor wrapper nor inline elements found on the Ad",101)}if(C&&!C.isSupported()){return new m(B+"could not find MediaFile that is supported by this video player",403)}if(E&&!E.VASTAdTagURI){return new m(B+"missing 'VASTAdTagURI' in wrapper",101)}return null}function v(B,C){u._requestVASTXml(B,function(D,G){if(D){return C(D)}try{var E=i.toJXONTree(G);C(z(E),E.ad)}catch(F){C(new m("on VASTClient.getVASTAd.requestVASTAd, error parsing xml",100))}})}};k.prototype._requestVASTXml=function l(s,u){try{if(c.isFunction(s)){s(r)}else{q.info("requesting adTagUrl: "+s);p.get(s,r,{withCredentials:true})}}catch(t){u(t)}function r(x,w,v){if(x){var y=c.isDefined(v)?"on VASTClient.requestVastXML, HTTP request error with status '"+v+"'":"on VASTClient.requestVastXML, Error getting the the VAST XML with he passed adTagXML fn";return u(new m(y,301),null)}u(null,w)}};k.prototype._buildVASTResponse=function b(r){var s=new n();u(s,r);t(s);return s;function u(v,w){w.forEach(function(x){v.addAd(x)})}function t(v){var w=v.trackingEvents.progress;if(!v.hasLinear()){throw new m("on VASTClient._buildVASTResponse, Received an Ad type that is not supported",200)}if(v.duration===undefined){throw new m("on VASTClient._buildVASTResponse, Missing duration field in VAST response",101)}if(w){w.forEach(function(x){if(!c.isNumber(x.offset)){throw new m("on VASTClient._buildVASTResponse, missing or wrong offset attribute on progress tracking event",101)}})}}};k.prototype._trackError=function(r,u){if(!c.isArray(u)||u.length===0){return}var t=[];u.forEach(s);j.track(t,{ERRORCODE:r.code||900});function s(v){if(v.wrapper&&v.wrapper.error){t.push(v.wrapper.error)}if(v.inLine&&v.inLine.error){t.push(v.inLine.error)}}};d.exports=k},{"../../utils/async":40,"../../utils/consoleLogger":41,"../../utils/http":43,"../../utils/utilityFunctions":47,"../../utils/xml":48,"./Ad":15,"./VASTError":23,"./VASTResponse":25,"./vastUtil":30}],23:[function(c,d,b){function a(g,f){this.message="VAST Error: "+(g||"");if(f){this.code=f}}a.prototype=new Error();a.prototype.name="VAST Error";d.exports=a},{}],24:[function(i,c,u){var m=i("./VASTResponse");var d=i("./VASTError");var l=i("./VASTTracker");var n=i("./vastUtil");var f=i("../../utils/async");var r=i("../../utils/dom");var t=i("../../utils/playerUtils");var p=i("../../utils/utilityFunctions");var v=i("../../utils/consoleLogger");function a(w){if(!(this instanceof a)){return new a(w)}this.player=w}a.prototype.playAd=function q(w,y){var x=this;y=y||p.noop;if(!(w instanceof m)){return y(new d("On VASTIntegrator, missing required VASTResponse"))}f.waterfall([function(z){z(null,w)},this._selectAdSource.bind(this),this._createVASTTracker.bind(this),this._addClickThrough.bind(this),this._addSkipButton.bind(this),this._setupEvents.bind(this),this._playSelectedAd.bind(this)],function(A,z){if(A&&z){x._trackError(A,z)}y(A,z)});this._adUnit={_src:null,type:"VAST",pauseAd:function(){x.player.pause(true)},resumeAd:function(){x.player.play(true)},isPaused:function(){return x.player.paused(true)},getSrc:function(){return this._src}};return this._adUnit};a.prototype._selectAdSource=function b(w,A){var z;var y=r.getDimension(this.player.el()).width;w.mediaFiles.sort(function x(D,B){var E=Math.abs(y-D.width);var C=Math.abs(y-B.width);return E-C});z=this.player.selectSource(w.mediaFiles).source;if(z){v.info("selected source: ",z);if(this._adUnit){this._adUnit._src=z}return A(null,z,w)}A(new d("Could not find Ad mediafile supported by this player",403),w)};a.prototype._createVASTTracker=function j(y,w,z){try{z(null,y,new l(y.src,w),w)}catch(x){z(x,w)}};a.prototype._setupEvents=function h(A,E,x,H){var D;var G=this.player;G.on("fullscreenchange",B);G.on("vast.adStart",z);G.on("pause",F);G.on("timeupdate",C);G.on("volumechange",y);t.once(G,["vast.adEnd","vast.adsCancel"],w);t.once(G,["vast.adEnd","vast.adsCancel","vast.adSkip"],function(I){if(I.type==="vast.adEnd"){E.trackComplete()}});G.skipAds=function(I){E.trackSkip();G.trigger("vast.adSkip")};return H(null,A,x);function w(){G.off("fullscreenchange",B);G.off("vast.adStart",z);G.off("pause",F);G.off("timeupdate",C);G.off("volumechange",y)}function B(){if(G.isFullscreen()){E.trackFullscreen()}else{E.trackExitFullscreen()}}function F(){if(Math.abs(G.duration()-G.currentTime())<2){return}E.trackPause();t.once(G,["play","vast.adEnd","vast.adsCancel"],function(I){if(I.type==="play"){E.trackResume()}})}function C(){var I=G.currentTime()*1000;E.trackProgress(I)}function z(){E.trackImpressions();E.trackCreativeView()}function y(){var I=G.muted();if(I){E.trackMute()}else{if(D){E.trackUnmute()}}D=I}};a.prototype._addSkipButton=function s(w,D,y,E){var A;var B=this;if(p.isNumber(y.skipoffset)){A=y.skipoffset/1000}E(null,w,D,y);function C(G,J){var F=x(G);var I=z.bind(B,F,J,G);G.el().appendChild(F);G.on("timeupdate",I);t.once(G,["vast.adEnd","vast.adsCancel"],H);function H(){G.off("timeupdate",I);r.remove(F)}}function x(G){var F=window.document.createElement("div");r.addClass(F,"vast-skip-button");F.onclick=function(H){if(r.hasClass(F,"enabled")){D.trackSkip();G.trigger("vast.adSkip")}if(window.Event.prototype.stopPropagation!==undefined){H.stopPropagation()}else{return false}};return F}function z(F,H,G){var I=Math.ceil(H-G.currentTime());if(I>0){F.innerHTML="Skip in "+p.toFixedDigits(I,2)+"..."}else{if(!r.hasClass(F,"enabled")){r.addClass(F,"enabled");F.innerHTML="Skip ad"}}}};a.prototype._addClickThrough=function g(A,B,w,E){var C=this.player;var D=y(C,B,w);var x=G.bind(this,D,w,C);C.el().insertBefore(D,C.controlBar.el());C.on("timeupdate",x);t.once(C,["vast.adEnd","vast.adsCancel"],z);return E(null,A,B,w);function y(J,L,I){var H=window.document.createElement("a");var K=I.clickThrough;r.addClass(H,"vast-blocker");H.href=F(K,J);if(p.isString(K)){H.target="_blank"}H.onclick=function(M){L.trackClick()};return H}function G(H,I,J){H.href=F(I.clickThrough,J)}function F(I,H){var J={ASSETURI:A.src,CONTENTPLAYHEAD:n.formatProgress(H.currentTime()*1000)};return I?n.parseURLMacro(I,J):"#"}function z(){C.off("timeupdate",x);r.remove(D)}};a.prototype._playSelectedAd=function o(z,x,A){var y=this.player;y.preload("auto");y.src(z);v.debug("<VASTIntegrator._playSelectedAd> waiting for durationchange to play the ad...");t.once(y,["durationchange","error","vast.adsCancel"],function(B){if(B.type==="durationchange"){v.debug("<VASTIntegrator._playSelectedAd> got durationchange; calling playAd()");w()}else{if(B.type==="error"){A(new d("on VASTIntegrator, Player is unable to play the Ad",400),x)}}});function w(){t.once(y,["playing","vast.adsCancel"],function(B){if(B.type==="vast.adsCancel"){return}v.debug("<VASTIntegrator._playSelectedAd/playAd> got playing event; triggering vast.adStart...");y.trigger("vast.adStart");y.on("ended",C);y.on("vast.adsCancel",C);y.on("vast.adSkip",C);function C(D){if(D.type==="ended"&&(y.duration()-y.currentTime())>3){return}y.off("ended",C);y.off("vast.adsCancel",C);y.off("vast.adSkip",C);if(D.type==="ended"||D.type==="vast.adSkip"){A(null,x)}}});v.debug("<VASTIntegrator._playSelectedAd/playAd> calling player.play()...");y.play()}};a.prototype._trackError=function k(x,w){n.track(w.errorURLMacros,{ERRORCODE:x.code||900})};c.exports=a},{"../../utils/async":40,"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/playerUtils":45,"../../utils/utilityFunctions":47,"./VASTError":23,"./VASTResponse":25,"./VASTTracker":26,"./vastUtil":30}],25:[function(g,d,h){var a=g("./Ad");var b=g("./VideoClicks");var l=g("./Linear");var f=g("./InLine");var k=g("./Wrapper");var c=g("../../utils/utilityFunctions");var i=g("../../utils/xml");window.InLine__A=f;function j(){if(!(this instanceof j)){return new j()}this._linearAdded=false;this.ads=[];this.errorURLMacros=[];this.impressions=[];this.clickTrackings=[];this.customClicks=[];this.trackingEvents={};this.mediaFiles=[];this.clickThrough=undefined;this.adTitle="";this.duration=undefined;this.skipoffset=undefined;this.companions={}}j.prototype.getCompanionAds=function(){return this.companions};j.prototype._addCompanions=function(r){if(!r.hasOwnProperty("creatives")){return}var t=r.creatives;var s=t.length;for(var q=0;q<s;++q){if(t[q].hasOwnProperty("companionAds")){var p=t[q].companionAds;var n=p.length;for(var o=0;o<n;++o){var u=p[o];this.companions[u.width+"x"+u.height]=u}}}};j.prototype.addAd=function(o){var n,p;if(o instanceof a){n=o.inLine;p=o.wrapper;this.ads.push(o);if(n){this._addInLine(n)}if(p){this._addWrapper(p)}}};j.prototype._addErrorTrackUrl=function(o){var n=o instanceof i.JXONTree?i.keyValue(o):o;if(n){this.errorURLMacros.push(n)}};j.prototype._addImpressions=function(n){c.isArray(n)&&m(this.impressions,n)};j.prototype._addClickThrough=function(n){if(c.isNotEmptyString(n)){this.clickThrough=n}};j.prototype._addClickTrackings=function(n){c.isArray(n)&&m(this.clickTrackings,n)};j.prototype._addCustomClicks=function(n){c.isArray(n)&&m(this.customClicks,n)};j.prototype._addTrackingEvents=function(o){var n=this.trackingEvents;if(o){o=c.isArray(o)?o:[o];o.forEach(function(p){if(!n[p.name]){n[p.name]=[]}n[p.name].push(p)})}};j.prototype._addTitle=function(n){if(c.isNotEmptyString(n)){this.adTitle=n}};j.prototype._addDuration=function(n){if(c.isNumber(n)){this.duration=n}};j.prototype._addVideoClicks=function(n){if(n instanceof b){this._addClickThrough(n.clickThrough);this._addClickTrackings(n.clickTrackings);this._addCustomClicks(n.customClicks)}};j.prototype._addMediaFiles=function(n){c.isArray(n)&&m(this.mediaFiles,n)};j.prototype._addSkipoffset=function(n){if(n){this.skipoffset=n}};j.prototype._addAdParameters=function(n){if(n){this.adParameters=n}};j.prototype._addLinear=function(n){if(n instanceof l){this._addDuration(n.duration);this._addTrackingEvents(n.trackingEvents);this._addVideoClicks(n.videoClicks);this._addMediaFiles(n.mediaFiles);this._addSkipoffset(n.skipoffset);this._addAdParameters(n.adParameters);this._linearAdded=true}};j.prototype._addInLine=function(n){var o=this;if(n instanceof f){this._addTitle(n.adTitle);this._addErrorTrackUrl(n.error);this._addImpressions(n.impressions);this._addCompanions(n);n.creatives.forEach(function(p){if(p.linear){o._addLinear(p.linear)}})}};j.prototype._addWrapper=function(o){var n=this;if(o instanceof k){this._addErrorTrackUrl(o.error);this._addImpressions(o.impressions);o.creatives.forEach(function(q){var p=q.linear;if(p){n._addVideoClicks(p.videoClicks);n.clickThrough=undefined;n._addTrackingEvents(p.trackingEvents)}})}};j.prototype.hasLinear=function(){return this._linearAdded};function m(o,n){n.forEach(function(p){o.push(p)})}d.exports=j},{"../../utils/utilityFunctions":47,"../../utils/xml":48,"./Ad":15,"./InLine":18,"./Linear":19,"./VideoClicks":27,"./Wrapper":28}],26:[function(c,a,d){var l=c("./VASTError");var m=c("./VASTResponse");var h=c("./vastUtil");var b=c("../../utils/utilityFunctions");function f(r,q){if(!(this instanceof f)){return new f(r,q)}this.sanityCheck(r,q);this.initialize(r,q)}f.prototype.initialize=function(r,q){this.response=q;this.assetURI=r;this.progress=0;this.quartiles={firstQuartile:{tracked:false,time:Math.round(25*q.duration)/100},midpoint:{tracked:false,time:Math.round(50*q.duration)/100},thirdQuartile:{tracked:false,time:Math.round(75*q.duration)/100}}};f.prototype.sanityCheck=function(r,q){if(!b.isString(r)||b.isEmptyString(r)){throw new l("on VASTTracker constructor, missing required the URI of the ad asset being played")}if(!(q instanceof m)){throw new l("on VASTTracker constructor, missing required VAST response")}};f.prototype.trackURLs=function j(q,r){if(b.isArray(q)&&q.length>0){r=b.extend({ASSETURI:this.assetURI,CONTENTPLAYHEAD:h.formatProgress(this.progress)},r||{});h.track(q,r)}};f.prototype.trackEvent=function p(q,r){this.trackURLs(s(this.response.trackingEvents[q]));if(r){this.response.trackingEvents[q]=undefined}function s(u){var t;if(u){t=[];u.forEach(function(v){if(!v.uri){return}t.push(v.uri)})}return t}};f.prototype.trackProgress=function k(x){var w=this;var B=[];var q=true;var r=false;var y=this.response.trackingEvents;if(b.isNumber(x)){t("start",q,x>0);t("rewind",r,s(this.progress,x));u(x);v(x);z();this.progress=x}function s(E,C){var D=3000;return E>x&&Math.abs(C-E)>D}function t(C,E,D){if(y[C]&&D){B.push({name:C,trackOnce:!!E})}}function u(E){var H=w.quartiles;var G=w.quartiles.firstQuartile;var F=w.quartiles.midpoint;var D=w.quartiles.thirdQuartile;if(!G.tracked){C("firstQuartile",E)}else{if(!F.tracked){C("midpoint",E)}else{if(!D.tracked){C("thirdQuartile",E)}}}function C(K,J){var I=H[K];if(A(I,J)){I.tracked=true;t(K,q,true)}}}function A(D,C){var E=D.time;return C>=E&&C<=(E+5000)}function v(C){if(!b.isArray(y.progress)){return}var D=[];y.progress.forEach(function(E){if(E.offset<=C){w.trackURLs([E.uri])}else{D.push(E)}});y.progress=D}function z(){B.forEach(function(C){w.trackEvent(C.name,C.trackOnce)})}};["rewind","fullscreen","exitFullscreen","pause","resume","mute","unmute","acceptInvitation","acceptInvitationLinear","collapse","expand"].forEach(function(q){f.prototype["track"+b.capitalize(q)]=function(){this.trackEvent(q)}});["start","skip","close","closeLinear"].forEach(function(q){f.prototype["track"+b.capitalize(q)]=function(){this.trackEvent(q,true)}});["firstQuartile","midpoint","thirdQuartile"].forEach(function(q){f.prototype["track"+b.capitalize(q)]=function(){this.quartiles[q].tracked=true;this.trackEvent(q,true)}});f.prototype.trackComplete=function(){if(this.quartiles.thirdQuartile.tracked){this.trackEvent("complete",true)}};f.prototype.trackErrorWithCode=function i(q){if(b.isNumber(q)){this.trackURLs(this.response.errorURLMacros,{ERRORCODE:q})}};f.prototype.trackImpressions=function g(){this.trackURLs(this.response.impressions)};f.prototype.trackCreativeView=function o(){this.trackEvent("creativeView")};f.prototype.trackClick=function n(){this.trackURLs(this.response.clickTrackings)};a.exports=f},{"../../utils/utilityFunctions":47,"./VASTError":23,"./VASTResponse":25,"./vastUtil":30}],27:[function(c,f,a){var d=c("../../utils/utilityFunctions");var b=c("../../utils/xml");function g(h){if(!(this instanceof g)){return new g(h)}this.clickThrough=b.keyValue(h.clickThrough);this.clickTrackings=i(h.clickTracking);this.customClicks=i(h.customClick);function i(j){var k=[];if(j){j=d.isArray(j)?j:[j];j.forEach(function(l){k.push(b.keyValue(l))})}return k}}f.exports=g},{"../../utils/utilityFunctions":47,"../../utils/xml":48}],28:[function(d,g,b){var i=d("./vastUtil");var a=d("./Creative");var f=d("../../utils/utilityFunctions");var c=d("../../utils/xml");function h(j){if(!(this instanceof h)){return new h(j)}this.adSystem=c.keyValue(j.adSystem);this.impressions=i.parseImpressions(j.impression);this.VASTAdTagURI=c.keyValue(j.vASTAdTagURI);this.creatives=a.parseCreatives(j.creatives);this.error=c.keyValue(j.error);this.extensions=j.extensions;this.followAdditionalWrappers=f.isDefined(c.attr(j,"followAdditionalWrappers"))?c.attr(j,"followAdditionalWrappers"):true;this.allowMultipleAds=c.attr(j,"allowMultipleAds");this.fallbackOnNoAd=c.attr(j,"fallbackOnNoAd")}g.exports=h},{"../../utils/utilityFunctions":47,"../../utils/xml":48,"./Creative":17,"./vastUtil":30}],29:[function(c,g,a){var f=c("../../utils/utilityFunctions");var i=/(\d\d):(\d\d):(\d\d)(\.(\d\d\d))?/;var d={duration:function b(o){var l,j;if(f.isString(o)){l=o.match(i);if(l){j=k(l[1])+n(l[2])+m(l[3])+parseInt(l[5]||0)}}return isNaN(j)?null:j;function k(p){return parseInt(p,10)*60*60*1000}function n(p){return parseInt(p,10)*60*1000}function m(p){return parseInt(p,10)*1000}},offset:function h(n,l){if(m(n)){return j(n,l)}return d.duration(n);function m(p){var o=/^\d+(\.\d+)?%$/g;return o.test(p)}function j(o,p){if(p){return k(p,parseFloat(o.replace("%","")))}return null}function k(p,o){return p*o/100}}};g.exports=d},{"../../utils/utilityFunctions":47}],30:[function(h,b,s){var q=h("../../utils/utilityFunctions");var f=h("../vpaid/VPAIDHTML5Tech");var i=h("../vpaid/VPAIDFlashTech");var r=h("VPAIDFLASHClient/js/VPAIDFLASHClient");var n={track:function o(w,x){var v=n.parseURLMacros(w,x);var u=[];v.forEach(function(z){var y=new Image();y.src=z;u.push(y)});return u},parseURLMacros:function p(u,w){var v=[];w=w||{};if(!(w.CACHEBUSTING)){w.CACHEBUSTING=Math.round(Math.random()*10000000000)}u.forEach(function(x){v.push(n._parseURLMacro(x,w))});return v},parseURLMacro:function t(u,v){v=v||{};if(!(v.CACHEBUSTING)){v.CACHEBUSTING=Math.round(Math.random()*10000000000)}return n._parseURLMacro(u,v)},_parseURLMacro:function t(u,v){v=v||{};q.forEach(v,function(x,w){if(u){u=u.replace(new RegExp("\\["+w+"\\]","gm"),x)}});return u},parseDuration:function m(A){var z=/(\d\d):(\d\d):(\d\d)(\.(\d\d\d))?/;var w,u;if(q.isString(A)){w=A.match(z);if(w){u=v(w[1])+y(w[2])+x(w[3])+parseInt(w[5]||0)}}return isNaN(u)?null:u;function v(B){return parseInt(B,10)*60*60*1000}function y(B){return parseInt(B,10)*60*1000}function x(B){return parseInt(B,10)*1000}},parseImpressions:function g(u){if(u){u=q.isArray(u)?u:[u];return q.transformArray(u,function(v){if(q.isNotEmptyString(v.keyValue)){return v.keyValue}return undefined})}return[]},formatProgress:function d(w){var u,x,y,v;u=w/(60*60*1000);u=Math.floor(u);x=(w/(60*1000))%60;x=Math.floor(x);y=(w/1000)%60;y=Math.floor(y);v=w%1000;return q.toFixedDigits(u,2)+":"+q.toFixedDigits(x,2)+":"+q.toFixedDigits(y,2)+"."+q.toFixedDigits(v,3)},parseOffset:function l(y,w){if(x(y)){return u(y,w)}return n.parseDuration(y);function x(A){var z=/^\d+(\.\d+)?%$/g;return z.test(A)}function u(z,A){if(A){return v(A,parseFloat(z.replace("%","")))}return null}function v(A,z){return A*z/100}},VPAID_techs:[f],isVPAID:function k(u){return !!u&&u.apiFramework==="VPAID"},findSupportedVPAIDTech:function j(x){var w,v,u;for(w=0,v=this.VPAID_techs.length;w<v;w+=1){u=this.VPAID_techs[w];if(u.supports(x)){return u}}return null},isFlashSupported:function c(){return false},runFlashSupportCheck:function a(u){r.runFlashTest({data:u})}};b.exports=n},{"../../utils/utilityFunctions":47,"../vpaid/VPAIDFlashTech":32,"../vpaid/VPAIDHTML5Tech":33,"VPAIDFLASHClient/js/VPAIDFLASHClient":3}],31:[function(c,f,b){var a=c("../vast/VASTError");var d=c("../../utils/utilityFunctions");function g(i,k){if(!(this instanceof g)){return new g(i,k)}j(i,k);this.options=d.extend({},k);this._adUnit=i;function j(l,m){if(!l||!g.checkVPAIDInterface(l)){throw new a("on VPAIDAdUnitWrapper, the passed VPAID adUnit does not fully implement the VPAID interface")}if(!d.isObject(m)){throw new a("on VPAIDAdUnitWrapper, expected options hash  but got '"+m+"'")}if(!("responseTimeout" in m)||!d.isNumber(m.responseTimeout)){throw new a("on VPAIDAdUnitWrapper, expected responseTimeout in options")}}}g.checkVPAIDInterface=function h(o){var k=["handshakeVersion","initAd","startAd","stopAd","resizeAd","pauseAd","expandAd","collapseAd"];for(var m=0,j=k.length;m<j;m++){if(!o||!d.isFunction(o[k[m]])){return false}}return l(o)&&n(o);function l(i){return d.isFunction(i.subscribe)||d.isFunction(i.addEventListener)||d.isFunction(i.on)}function n(i){return d.isFunction(i.unsubscribe)||d.isFunction(i.removeEventListener)||d.isFunction(i.off)}};g.prototype.adUnitAsyncCall=function(){var k=d.arrayLikeObjToArray(arguments);var n=k.shift();var i=k.pop();var m;j(n,i,this._adUnit);k.push(l());this._adUnit[n].apply(this._adUnit,k);m=setTimeout(function(){m=null;i(new a("on VPAIDAdUnitWrapper, timeout while waiting for a response on call '"+n+"'"));i=d.noop},this.options.responseTimeout);function j(q,o,p){if(!d.isString(q)||!d.isFunction(p[q])){throw new a("on VPAIDAdUnitWrapper.adUnitAsyncCall, invalid method name")}if(!d.isFunction(o)){throw new a("on VPAIDAdUnitWrapper.adUnitAsyncCall, missing callback")}}function l(){return function(){if(m){clearTimeout(m)}i.apply(this,arguments)}}};g.prototype.on=function(k,i){var j=this._adUnit.addEventListener||this._adUnit.subscribe||this._adUnit.on;j.call(this._adUnit,k,i)};g.prototype.off=function(k,i){var j=this._adUnit.removeEventListener||this._adUnit.unsubscribe||this._adUnit.off;j.call(this._adUnit,k,i)};g.prototype.waitForEvent=function(m,i,l){var n;k(m,i);l=l||null;this.on(m,j);n=setTimeout(function(){i(new a("on VPAIDAdUnitWrapper.waitForEvent, timeout while waiting for event '"+m+"'"));n=null;i=d.noop},this.options.responseTimeout);function k(p,o){if(!d.isString(p)){throw new a("on VPAIDAdUnitWrapper.waitForEvent, missing evt name")}if(!d.isFunction(o)){throw new a("on VPAIDAdUnitWrapper.waitForEvent, missing callback")}}function j(){var o=d.arrayLikeObjToArray(arguments);if(n){clearTimeout(n);n=null}o.unshift(null);i.apply(l,o)}};g.prototype.handshakeVersion=function(j,i){this.adUnitAsyncCall("handshakeVersion",j,i)};g.prototype.initAd=function(m,j,k,l,n,i){this.waitForEvent("AdLoaded",i);this._adUnit.initAd(m,j,k,l,n)};g.prototype.resizeAd=function(l,j,k,i){this.adUnitAsyncCall("resizeAd",l,j,k,i)};g.prototype.startAd=function(i){this.waitForEvent("AdStarted",i);this._adUnit.startAd()};g.prototype.stopAd=function(i){this.waitForEvent("AdStopped",i);this._adUnit.stopAd()};g.prototype.pauseAd=function(i){this.waitForEvent("AdPaused",i);this._adUnit.pauseAd()};g.prototype.resumeAd=function(i){this.waitForEvent("AdPlaying",i);this._adUnit.resumeAd()};g.prototype.expandAd=function(i){this.waitForEvent("AdExpandedChange",i);this._adUnit.expandAd()};g.prototype.collapseAd=function(i){this.waitForEvent("AdExpandedChange",i);this._adUnit.collapseAd()};g.prototype.skipAd=function(i){this.waitForEvent("AdSkipped",i);this._adUnit.skipAd()};["adLinear","adWidth","adHeight","adExpanded","adSkippableState","adRemainingTime","adDuration","adVolume","adCompanions","adIcons"].forEach(function(j){var i="get"+d.capitalize(j);g.prototype[i]=function(k){this.adUnitAsyncCall(i,k)}});g.prototype.setAdVolume=function(j,i){this.adUnitAsyncCall("setAdVolume",j,i)};f.exports=g},{"../../utils/utilityFunctions":47,"../vast/VASTError":23}],32:[function(d,a,g){var k=d("../../utils/mimetypes");var j=d("../vast/VASTError");var h=d("VPAIDFLASHClient/js/VPAIDFLASHClient");var b=d("../../utils/utilityFunctions");var f=d("../../utils/dom");var l=d("../../utils/consoleLogger");function i(m,o){if(!(this instanceof i)){return new i(m)}n(m);this.name="vpaid-flash";this.mediaFile=m;this.containerEl=null;this.vpaidFlashClient=null;this.settings=o;function n(p){if(!p||!b.isString(p.src)){throw new j("on VPAIDFlashTech, invalid MediaFile")}}}i.VPAIDFLASHClient=h;i.supports=function(m){return(k.flash.indexOf(m)>-1)&&i.VPAIDFLASHClient.isSupported()};i.prototype.loadAdUnit=function c(q,p,r){var o=this;var n=this.settings&&this.settings.vpaidFlashLoaderPath?{data:this.settings.vpaidFlashLoaderPath}:undefined;m(q,r);this.containerEl=q;l.debug("<VPAIDFlashTech.loadAdUnit> loading VPAIDFLASHClient with opts:",n);this.vpaidFlashClient=new i.VPAIDFLASHClient(q,function(s){if(s){return r(s)}l.info("<VPAIDFlashTech.loadAdUnit> calling VPAIDFLASHClient.loadAdUnit(); that.mediaFile:",o.mediaFile);o.vpaidFlashClient.loadAdUnit(o.mediaFile.src,r)},n);function m(t,s){l.info("flash sanityCheck");if(!f.isDomElement(t)){throw new j("on VPAIDFlashTech.loadAdUnit, invalid dom container element")}if(!b.isFunction(s)){throw new j("on VPAIDFlashTech.loadAdUnit, missing valid callback")}}};i.prototype.unloadAdUnit=function(){if(this.vpaidFlashClient){try{this.vpaidFlashClient.destroy()}catch(m){l.error("VAST ERROR: trying to unload the VPAID adunit")}this.vpaidFlashClient=null}if(this.containerEl){f.remove(this.containerEl);this.containerEl=null}};a.exports=i},{"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/mimetypes":44,"../../utils/utilityFunctions":47,"../vast/VASTError":23,"VPAIDFLASHClient/js/VPAIDFLASHClient":3}],33:[function(c,a,i){var m=c("../../utils/mimetypes");var l=c("../vast/VASTError");var g=c("VPAIDHTML5Client/js/VPAIDHTML5Client");var b=c("../../utils/utilityFunctions");var h=c("../../utils/dom");var n=c("../../utils/consoleLogger");function d(o){if(!(this instanceof d)){return new d(o)}p(o);this.name="vpaid-html5";this.containerEl=null;this.videoEl=null;this.vpaidHTMLClient=null;this.mediaFile=o;function p(q){if(!q||!b.isString(q.src)){throw new l(d.INVALID_MEDIA_FILE)}}}d.VPAIDHTML5Client=g;d.supports=function(o){return !b.isOldIE()&&m.html5.indexOf(o)>-1};d.prototype.loadAdUnit=function k(q,p,r){o(q,p,r);this.containerEl=q;this.videoEl=p;this.vpaidHTMLClient=new d.VPAIDHTML5Client(q,p,{});this.vpaidHTMLClient.loadAdUnit(this.mediaFile.src,r);function o(t,u,s){if(!h.isDomElement(t)){throw new l(d.INVALID_DOM_CONTAINER_EL)}if(u.tagName.toLowerCase()!=="video"){throw new l(d.INVALID_DOM_CONTAINER_EL)}if(!b.isFunction(s)){throw new l(d.MISSING_CALLBACK)}}};d.prototype.unloadAdUnit=function f(){if(this.vpaidHTMLClient){try{this.vpaidHTMLClient.destroy()}catch(o){n.error("VAST ERROR: trying to unload the VPAID adunit")}this.vpaidHTMLClient=null}if(this.containerEl){h.remove(this.containerEl);this.containerEl=null}};var j="on VPAIDHTML5Tech";d.INVALID_MEDIA_FILE=j+", invalid MediaFile";d.INVALID_DOM_CONTAINER_EL=j+", invalid container HtmlElement";d.INVALID_DOM_VIDEO_EL=j+", invalid HTMLVideoElement";d.MISSING_CALLBACK=j+", missing valid callback";a.exports=d},{"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/mimetypes":44,"../../utils/utilityFunctions":47,"../vast/VASTError":23,"VPAIDHTML5Client/js/VPAIDHTML5Client":11}],34:[function(h,b,t){var a=h("../../utils/mimetypes");var c=h("../vast/VASTError");var k=h("../vast/VASTResponse");var j=h("../vast/VASTTracker");var l=h("../vast/vastUtil");var f=h("./VPAIDAdUnitWrapper");var d=h("../../utils/async");var o=h("../../utils/dom");var p=h("../../utils/playerUtils");var n=h("../../utils/utilityFunctions");var u=h("../../utils/consoleLogger");function r(w,x){if(!(this instanceof r)){return new r(w)}this.VIEW_MODE={NORMAL:"normal",FULLSCREEN:"fullscreen",THUMBNAIL:"thumbnail"};this.player=w;this.containerEl=v(w);this.options={responseTimeout:5000,VPAID_VERSION:"2.0"};this.settings=x;function v(){var y=document.createElement("div");o.addClass(y,"VPAID-container");w.el().insertBefore(y,w.controlBar.el());u.debug("VPAID-container");return y}}r.prototype.playAd=function m(y,C){if(!(y instanceof k)){return C(new c("on VASTIntegrator.playAd, missing required VASTResponse"))}u.debug("VPAIDIntegrator - playAd");var x=this;var B=this.player;u.debug("<VPAIDIntegrator.playAd> looking for supported tech...");var A=this._findSupportedTech(y,this.settings);C=C||n.noop;this._adUnit=null;o.addClass(B.el(),"vjs-vpaid-ad");B.on("vast.adsCancel",w);B.one("vpaid.adEnd",function(){B.off("vast.adsCancel",w);v()});if(A){u.info("<VPAIDIntegrator.playAd> found tech: ",A);d.waterfall([function(E){E(null,A,y)},this._loadAdUnit.bind(this),this._playAdUnit.bind(this),this._finishPlaying.bind(this)],D);this._adUnit={_paused:true,type:"VPAID",pauseAd:function(){B.trigger("vpaid.pauseAd");B.pause(true)},resumeAd:function(){B.trigger("vpaid.resumeAd")},isPaused:function(){return this._paused},getSrc:function(){return A.mediaFile},getFrame:function(){return A.vpaidHTMLClient._frame},getVpaidMaster:function(){return A.vpaidHTMLClient.createAdVpaid}}}else{u.debug("<VPAIDIntegrator.playAd> could not find suitable tech");var z=new c("on VPAIDIntegrator.playAd, could not find a supported mediaFile",403);D(z,this._adUnit,y)}return this._adUnit;function D(G,F,E){if(G&&E){x._trackError(E,G.code)}B.trigger("vpaid.adEnd");C(G,E)}function w(){B.trigger("vpaid.adEnd")}function v(){if(A){A.unloadAdUnit()}o.removeClass(B.el(),"vjs-vpaid-ad")}};r.prototype._findSupportedTech=function(F,v){if(!(F instanceof k)){return null}var B=F.mediaFiles.filter(l.isVPAID);var y=v&&v.preferredTech;var x=[];var z,D,C,E,w;for(z=0,D=B.length;z<D;z+=1){C=B[z];E=l.findSupportedVPAIDTech(C.type);if(!E){continue}w=y?(C.type===y||(a[y]&&a[y].indexOf(C.type)>-1)):false;if(w){return new E(C,v)}x.push({mediaFile:C,tech:E})}if(x.length){var A=x[0];return new A.tech(A.mediaFile,v)}return null};r.prototype._createVPAIDAdUnitWrapper=function(w,x,v){return new f(w,{src:x,responseTimeout:v})};r.prototype._loadAdUnit=function(w,y,A){var B=this;var z=this.player;var v=z.el().querySelector(".vjs-tech");var x=this.settings.responseTimeout||this.options.responseTimeout;w.loadAdUnit(this.containerEl,v,function(D,C){u.debug("VPAIDIntegrator - _loadAdUnit");if(D){return A(D,C,y)}try{var G=B._createVPAIDAdUnitWrapper(C,w.mediaFile.src,x);var E="vjs-"+w.name+"-ad";o.addClass(z.el(),E);z.one("vpaid.adEnd",function(){o.removeClass(z.el(),E)});A(null,G,y)}catch(F){A(F,C,y)}})};r.prototype._playAdUnit=function(w,v,x){d.waterfall([function(y){y(null,w,v)},this._handshake.bind(this),this._initAd.bind(this),this._setupEvents.bind(this),this._addSkipButton.bind(this),this._linkPlayerControls.bind(this),this._startAd.bind(this)],x)};r.prototype._handshake=function s(y,x,z){y.handshakeVersion(this.options.VPAID_VERSION,function(B,A){if(B){return z(B,y,x)}if(A&&w(A)){return z(null,y,x)}return z(new c('on VPAIDIntegrator._handshake, unsupported version "'+A+'"'),y,x)});function w(A){var B=v(A);return B>=1&&B<=2}function v(A){var B=A.split(".");return parseInt(B[0],10)}};r.prototype._initAd=function(x,w,y){var v=this.player.el().querySelector(".vjs-tech");var z=o.getDimension(v);x.initAd(z.width,z.height,this.VIEW_MODE.NORMAL,-1,{AdParameters:w.adParameters||""},function(A){y(A,x,w)})};r.prototype._createVASTTracker=function(w,v){return new j(w,v)};r.prototype._setupEvents=function(x,E,A){var D=x.options.src;var G=this._createVASTTracker(D,E);var H=this.player;var C=this;x.on("AdSkipped",function(){H.trigger("vpaid.AdSkipped");G.trackSkip()});x.on("AdImpression",function(){H.trigger("vpaid.AdImpression");G.trackImpressions()});x.on("AdStarted",function(){H.trigger("vpaid.AdStarted");G.trackCreativeView();y()});x.on("AdVideoStart",function(){H.trigger("vpaid.AdVideoStart");G.trackStart();y()});x.on("AdPlaying",function(){H.trigger("vpaid.AdPlaying");G.trackResume();y()});x.on("AdPaused",function(){H.trigger("vpaid.AdPaused");G.trackPause();v()});function y(){if(C._adUnit&&C._adUnit.isPaused()){C._adUnit._paused=false}}function v(){}x.on("AdVideoFirstQuartile",function(){H.trigger("vpaid.AdVideoFirstQuartile");G.trackFirstQuartile()});x.on("AdVideoMidpoint",function(){H.trigger("vpaid.AdVideoMidpoint");G.trackMidpoint()});x.on("AdVideoThirdQuartile",function(){H.trigger("vpaid.AdVideoThirdQuartile");G.trackThirdQuartile()});x.on("AdVideoComplete",function(){H.trigger("vpaid.AdVideoComplete");G.trackComplete()});x.on("AdClickThru",function(N){H.trigger("vpaid.AdClickThru");var L=N.url;var K=N.playerHandles;var J=n.isNotEmptyString(L)?L:M(E.clickThrough);G.trackClick();if(K&&J){window.open(J,"_blank")}function M(O){var P={ASSETURI:x.options.src,CONTENTPLAYHEAD:0};return O?l.parseURLMacro(O,P):null}});x.on("AdUserAcceptInvitation",function(){H.trigger("vpaid.AdUserAcceptInvitation");G.trackAcceptInvitation();G.trackAcceptInvitationLinear()});x.on("AdUserClose",function(){H.trigger("vpaid.AdUserClose");G.trackClose();G.trackCloseLinear()});x.on("AdUserMinimize",function(){H.trigger("vpaid.AdUserMinimize");G.trackCollapse()});x.on("AdError",function(){H.trigger("vpaid.AdError");G.trackErrorWithCode(901)});x.on("AdVolumeChange",function(){H.trigger("vpaid.AdVolumeChange");var J=H.volume();x.getAdVolume(function(K,L){if(J!==L){if(L===0&&J>0){G.trackMute()}if(L>0&&J===0){G.trackUnmute()}H.volume(L)}})});var F=g.bind(this,H,x,this.VIEW_MODE);var z=n.throttle(F,100);var w=this.settings.autoResize;if(w){o.addEventListener(window,"resize",z);o.addEventListener(window,"orientationchange",z)}H.on("vast.resize",F);H.on("vpaid.pauseAd",B);H.on("vpaid.resumeAd",I);H.one("vpaid.adEnd",function(){H.off("vast.resize",F);H.off("vpaid.pauseAd",B);H.off("vpaid.resumeAd",I);if(w){o.removeEventListener(window,"resize",z);o.removeEventListener(window,"orientationchange",z)}});A(null,x,E);function B(){x.pauseAd(n.noop)}function I(){x.resumeAd(n.noop)}};r.prototype._addSkipButton=function(w,B,z){var D;var C=this.player;w.on("AdSkippableStateChange",y);p.once(C,["vast.adEnd","vast.adsCancel"],A);z(null,w,B);function y(){C.trigger("vpaid.AdSkippableStateChange");w.getAdSkippableState(function(E,F){if(F){if(!D){v(C)}}else{A(C)}})}function v(E){}function A(){o.remove(D);D=null}function x(){var E=window.document.createElement("div");o.addClass(E,"vast-skip-button");o.addClass(E,"enabled");E.innerHTML="Skip ad";E.onclick=function(F){w.skipAd(n.noop);if(window.Event.prototype.stopPropagation!==undefined){F.stopPropagation()}else{return false}};return E}};r.prototype._linkPlayerControls=function(x,w,y){var z=this;v(this.player,x);A(this.player,x,this.VIEW_MODE);y(null,x,w);function v(D,C){D.on("volumechange",B);C.on("AdVolumeChange",E);D.one("vpaid.adEnd",function(){D.off("volumechange",B)});function B(){var F=D.muted()?0:D.volume();C.setAdVolume(F,q)}function E(){D.trigger("vpaid.AdVolumeChange");var F=D.volume();C.getAdVolume(function(G,H){if(G){q(G)}else{if(F!==H){D.volume(H)}}})}}function A(D,C,B){var E=g.bind(z,D,C,B);D.on("fullscreenchange",E);D.one("vpaid.adEnd",function(){D.off("fullscreenchange",E)})}};r.prototype._startAd=function(w,v,y){var x=this.player;w.startAd(function(z){if(!z){x.trigger("vast.adStart")}y(z,w,v)})};r.prototype._finishPlaying=function(x,w,z){var y=this.player;x.on("AdStopped",function(){y.trigger("vpaid.AdStopped");v(null)});x.on("AdError",function(A){var B=A?A.message:"on VPAIDIntegrator, error while waiting for the adUnit to finish playing";v(new c(B))});function v(A){z(A,x,w)}};r.prototype._trackError=function i(v,w){l.track(v.errorURLMacros,{ERRORCODE:w||901})};function g(z,x,w){var v=z.el().querySelector(".vjs-tech");var A=o.getDimension(v);var y=z.isFullscreen()?w.FULLSCREEN:w.NORMAL;x.resizeAd(A.width,A.height,y,q)}function q(v){if(v){u.error("ERROR: "+v.message,v)}}b.exports=r},{"../../utils/async":40,"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/mimetypes":44,"../../utils/playerUtils":45,"../../utils/utilityFunctions":47,"../vast/VASTError":23,"../vast/VASTResponse":25,"../vast/VASTTracker":26,"../vast/vastUtil":30,"./VPAIDAdUnitWrapper":31}],35:[function(b,d,a){var g=b("../../utils/dom");var c=document.createElement("div");c.className="vjs-ads-label vjs-control vjs-label-hidden";c.innerHTML="Advertisement";var f=function(j){return{init:function i(l,k){k.el=c;j.call(this,l,k);setTimeout(function(){var m=l.controlBar&&(l.controlBar.getChild("timerControls")||l.controlBar.getChild("currentTimeDisplay"));if(m){l.controlBar.el().insertBefore(c,m.el())}g.removeClass(c,"vjs-label-hidden")},0)},el:function h(){return c}}};d.exports=f},{"../../utils/dom":42}],36:[function(c,f,b){var d=videojs.getComponent("Component");var a=c("./ads-label")(d);videojs.registerComponent("AdsLabel",videojs.extend(d,a))},{"./ads-label":35}],37:[function(c,f,b){var d=document.createElement("div");var a=function(i){return{init:function h(l,k){k.el=d;d.className="vjs-black-poster";i.call(this,l,k);var j=l.getChild("posterImage");setTimeout(function(){if(j&&l&&l.el()){l.el().insertBefore(d,j.el())}},0)},el:function g(){return d}}};f.exports=a},{}],38:[function(b,d,a){var c=videojs.getComponent("Component");var f=b("./black-poster")(c);videojs.registerComponent("BlackPoster",videojs.extend(c,f))},{"./black-poster":37}],39:[function(c,b,g){var i=c("../ads/vast/VASTClient");var k=c("../ads/vast/VASTError");var h=c("../ads/vast/vastUtil");var n=c("../ads/vast/VASTIntegrator");var j=c("../ads/vpaid/VPAIDIntegrator");var d=c("../utils/async");var f=c("../utils/dom");var l=c("../utils/playerUtils");var a=c("../utils/utilityFunctions");var o=c("../utils/consoleLogger");b.exports=function m(C){var p;var y=this;var r=new i();var w=false;var z={timeout:500,iosPrerollCancelTimeout:2000,adCancelTimeout:3000,playAdAlways:false,adsEnabled:true,autoResize:true,verbosity:0};var s=a.extend({},z,C||{});if(a.isUndefined(s.adTagUrl)&&a.isDefined(s.url)){s.adTagUrl=s.url}if(a.isString(s.adTagUrl)){s.adTagUrl=a.echoFn(s.adTagUrl)}if(a.isDefined(s.adTagXML)&&!a.isFunction(s.adTagXML)){return v(new k("on VideoJS VAST plugin, the passed adTagXML option does not contain a function"))}if(!a.isDefined(s.adTagUrl)&&!a.isFunction(s.adTagXML)){return v(new k("on VideoJS VAST plugin, missing adTagUrl on options object"))}o.setVerbosity(s.verbosity);l.prepareForAds(y);if(s.playAdAlways){y.on("vast.contentEnd",function(){setTimeout(function(){y.trigger("vast.reset")},0)})}y.on("vast.firstPlay",x);y.on("vast.reset",function(){p=null;A()});y.vast={isEnabled:function(){return s.adsEnabled},enable:function(){s.adsEnabled=true},disable:function(){s.adsEnabled=false},isVpaid:function(){return s.isVpaid},getSnapshot:function(D){return l.getPlayerSnapshot(D)},setSnapshot:function(E,D){l.restorePlayerSnapshot(E,D)}};return y.vast;function x(){l.removeNativePoster(y);l.once(y,["vast.adsCancel","vast.adEnd"],function(){F();J()});d.waterfall([D,K,G,q],function(N,M){if(N){v(N,M)}else{y.trigger("vast.adEnd")}});function F(){if(y.vast&&y.vast.adUnit){y.vast.adUnit=null}}function J(){I();if(p){l.restorePlayerSnapshot(y,p);p=null}}function I(){l.once(y,["playing","vast.reset","vast.firstPlay"],function(M){if(M.type!=="playing"){return}y.trigger("vast.contentStart");l.once(y,["ended","vast.reset","vast.firstPlay"],function(N){if(N.type==="ended"){y.trigger("vast.contentEnd")}})})}function D(M){if(s.adsEnabled){return M(null)}M(new k("Ads are not enabled"))}function K(M){if(L()){p=l.getPlayerSnapshot(y);y.pause();H();if(y.paused()){M(null)}else{l.once(y,["playing"],function(){y.pause();M(null)})}}else{M(new k("video content has been playing before preroll ad"))}}function L(){return !a.isIPhone()||y.currentTime()<=s.iosPrerollCancelTimeout}function G(M){var O;w=false;O=setTimeout(function(){v(new k("timeout while waiting for the video to start playing",402))},s.adCancelTimeout);l.once(y,["vast.adStart","vast.adsCancel"],N);function N(){if(O){clearTimeout(O);O=null}}M(null)}function H(){f.addClass(y.el(),"vjs-vast-ad-loading");l.once(y,["vast.adStart","vast.adsCancel"],E)}function E(){setTimeout(function(){f.removeClass(y.el(),"vjs-vast-ad-loading")},100)}}function A(){y.trigger("vast.adsCancel");w=true}function q(D){d.waterfall([t,B],D)}function t(D){r.getVASTResponse(s.adTagUrl?s.adTagUrl():s.adTagXML,D)}function B(F,J){if(w){return}s.isVpaid=u(F);o.debug("before - playAd - VPAIDIntegrator");var G=s.isVpaid?new j(y,s):new n(y);var D=false;o.debug("after - playAd - VPAIDIntegrator");l.once(y,["vast.adStart","vast.adsCancel"],function(K){if(K.type==="vast.adStart"){H()}});l.once(y,["vast.adEnd","vast.adsCancel"],I);if(a.isIDevice()){E()}o.debug("adIntegrator");o.debug(G);y.vast.vastResponse=F;o.debug("calling adIntegrator.playAd() with vastResponse:",F);y.vast.adUnit=G.playAd(F,J);function H(){if(D||y.controlBar.getChild("AdsLabel")){return}y.controlBar.addChild("AdsLabel")}function I(){y.controlBar.removeChild("AdsLabel");D=true}function E(){var P=3;var O=0;var K=0;y.on("timeupdate",M);y.on("ended",N);l.once(y,["vast.adEnd","vast.adsCancel","vast.adError"],L);function N(){if((y.duration()-O)>P){y.pause(true);y.play(true);y.currentTime(O)}}function M(){var Q=y.currentTime();var R=Math.abs(Q-O);if(R>P){K+=1;if(K>=2){y.pause(true)}y.currentTime(O)}else{O=Q}}function L(){y.off("timeupdate",M);y.off("ended",N)}}}function v(E,D){y.trigger({type:"vast.adError",error:E});A();o.error("AD ERROR:",E.message,E,D)}function u(E){var F,D;var G=E.mediaFiles;for(F=0,D=G.length;F<D;F++){if(h.isVPAID(G[F])){return true}}return false}}},{"../ads/vast/VASTClient":22,"../ads/vast/VASTError":23,"../ads/vast/VASTIntegrator":24,"../ads/vast/vastUtil":30,"../ads/vpaid/VPAIDIntegrator":34,"../utils/async":40,"../utils/consoleLogger":41,"../utils/dom":42,"../utils/playerUtils":45,"../utils/utilityFunctions":47}],40:[function(b,d,a){var c=b("./utilityFunctions");var f={};f.setImmediate=function(g){setTimeout(g,0)};f.iterator=function(h){var g=function(i){var j=function(){if(h.length){h[i].apply(null,arguments)}return j.next()};j.next=function(){return(i<h.length-1)?g(i+1):null};return j};return g(0)};f.waterfall=function(j,i){i=i||function(){};if(!c.isArray(j)){var g=new Error("First argument to waterfall must be an array of functions");return i(g)}if(!j.length){return i()}var h=function(k){return function(n){if(n){i.apply(null,arguments);i=function(){}}else{var l=Array.prototype.slice.call(arguments,1);var m=k.next();if(m){l.push(h(m))}else{l.push(i)}f.setImmediate(function(){k.apply(null,l)})}}};h(f.iterator(j))()};f.when=function(i,h){if(!c.isFunction(h)){throw new Error("async.when error: missing callback argument")}var g=c.isFunction(i)?i:function(){return !!i};return function(){var j=c.arrayLikeObjToArray(arguments);var k=j.pop();if(g.apply(null,j)){return h.apply(this,arguments)}j.unshift(null);return k.apply(null,j)}};d.exports=f},{"./utilityFunctions":47}],41:[function(d,b,g){var h=0;var n="[videojs-vast-vpaid] ";function i(o){h=o}function j(p,o){if((o.length)>0&&(typeof o[0]==="string")){o[0]=n+o[0]}if(p.apply){}else{}}function a(){if(h<4){return}if(typeof console.debug==="undefined"){j(console.log,arguments)}else{j(console.debug,arguments)}}function f(){if(h<3){return}j(console.log,arguments)}function c(){if(h<2){return}j(console.info,arguments)}function k(){if(h<1){return}j(console.warn,arguments)}function l(){j(console.error,arguments)}var m={setVerbosity:i,debug:a,log:f,info:c,warn:k,error:l};if((typeof(console)==="undefined")||!console.log){m.debug=function(){};m.log=function(){};m.info=function(){};m.warn=function(){};m.error=function(){}}b.exports=m},{}],42:[function(h,c,u){var q=h("./utilityFunctions");var r={};r.isVisible=function n(w){var v=window.getComputedStyle(w);return v.visibility!=="hidden"};r.isHidden=function g(w){var v=window.getComputedStyle(w);return v.display==="none"};r.isShown=function f(v){return !r.isHidden(v)};r.hide=function j(v){v.__prev_style_display_=v.style.display;v.style.display="none"};r.show=function t(v){if(r.isHidden(v)){v.style.display=v.__prev_style_display_}v.__prev_style_display_=undefined};r.hasClass=function b(z,w){var y,x,v;if(q.isNotEmptyString(w)){if(z.classList){return z.classList.contains(w)}y=q.isString(z.getAttribute("class"))?z.getAttribute("class").split(/\s+/):[];w=(w||"");for(x=0,v=y.length;x<v;x+=1){if(y[x]===w){return true}}}return false};r.addClass=function(x,v){var w;if(q.isNotEmptyString(v)){if(x.classList){return x.classList.add(v)}w=q.isString(x.getAttribute("class"))?x.getAttribute("class").split(/\s+/):[];if(q.isString(v)&&q.isNotEmptyString(v.replace(/\s+/,""))){w.push(v);x.setAttribute("class",w.join(" "))}}};r.removeClass=function(z,w){var y;if(q.isNotEmptyString(w)){if(z.classList){return z.classList.remove(w)}y=q.isString(z.getAttribute("class"))?z.getAttribute("class").split(/\s+/):[];var A=[];var x,v;if(q.isString(w)&&q.isNotEmptyString(w.replace(/\s+/,""))){for(x=0,v=y.length;x<v;x+=1){if(w!==y[x]){A.push(y[x])}}z.setAttribute("class",A.join(" "))}}};r.addEventListener=function k(x,w,v){if(q.isArray(x)){q.forEach(x,function(y){r.addEventListener(y,w,v)});return}if(q.isArray(w)){q.forEach(w,function(y){r.addEventListener(x,y,v)});return}if(x.addEventListener){x.addEventListener(w,v,false)}else{if(x.attachEvent){x.attachEvent("on"+w,v)}}};r.removeEventListener=function m(x,w,v){if(q.isArray(x)){q.forEach(x,function(y){r.removeEventListener(y,w,v)});return}if(q.isArray(w)){q.forEach(w,function(y){r.removeEventListener(x,y,v)});return}if(x.removeEventListener){x.removeEventListener(w,v,false)}else{if(x.detachEvent){x.detachEvent("on"+w,v)}else{x["on"+w]=null}}};r.dispatchEvent=function a(v,w){if(v.dispatchEvent){v.dispatchEvent(w)}else{v.fireEvent("on"+w.eventType,w)}};r.isDescendant=function p(v,x){var w=x.parentNode;while(w!==null){if(w===v){return true}w=w.parentNode}return false};r.getTextContent=function l(v){return v.textContent||v.text};r.prependChild=function s(v,w){if(w.parentNode){w.parentNode.removeChild(w)}return v.insertBefore(w,v.firstChild)};r.remove=function o(v){if(v&&v.parentNode){v.parentNode.removeChild(v)}};r.isDomElement=function i(v){return v instanceof Element};r.click=function(w,v){r.addEventListener(w,"click",v)};r.once=function(y,x,w){function v(){w.apply(null,arguments);r.removeEventListener(y,x,v)}r.addEventListener(y,x,v)};r.getDimension=function d(v){var w;if(!q.isOldIE()&&v.getBoundingClientRect){w=v.getBoundingClientRect();return{width:w.width,height:w.height}}return{width:v.offsetWidth,height:v.offsetHeight}};c.exports=r},{"./utilityFunctions":47}],43:[function(d,b,f){var h=d("./urlUtils");var c=d("./utilityFunctions");function a(k){this.message="HttpRequest Error: "+(k||"")}a.prototype=new Error();a.prototype.name="HttpRequest Error";function j(k){if(!c.isFunction(k)){throw new a("Missing XMLHttpRequest factory method")}this.createXhr=k}j.prototype.run=function(k,l,r,t){m(l,r,t);var n,q;var s=this.createXhr();t=t||{};n=c.isNumber(t.timeout)?t.timeout:0;s.open(k,h.urlParts(l).href,true);if(t.headers){p(s,t.headers)}if(t.withCredentials){s.withCredentials=true}s.onload=function(){var w,v,u;if(!s.getAllResponseHeaders){s.getAllResponseHeaders=function(){return null}}if(!s.status){s.status=200}if(c.isDefined(q)){clearTimeout(q);q=undefined}w=s.statusText||"";v=("response" in s)?s.response:s.responseText;u=s.status===1223?204:s.status;r(u,v,s.getAllResponseHeaders(),w)};s.onerror=o;s.onabort=o;s.send();if(n>0){q=setTimeout(function(){s&&s.abort()},n)}function m(v,w,u){if(!c.isString(v)||c.isEmptyString(v)){throw new a("Invalid url '"+v+"'")}if(!c.isFunction(w)){throw new a("Invalid handler '"+w+"' for the http request")}if(c.isDefined(u)&&!c.isObject(u)){throw new a("Invalid options map '"+u+"'")}}function p(v,u){c.forEach(u,function(x,w){if(c.isDefined(x)){v.setRequestHeader(w,x)}})}function o(){r(-1,null,null,"")}};j.prototype.get=function(m,o,l){this.run("GET",m,n,l);function n(p,q,r,s){if(k(p)){o(null,q,p,r,s)}else{o(new a(s),q,p,r,s)}}function k(p){return 200<=p&&p<300}};function g(){var k=new XMLHttpRequest();if(!("withCredentials" in k)){k=new XDomainRequest()}return k}var i=new j(g);b.exports={http:i,HttpRequest:j,HttpRequestError:a,createXhr:g}},{"./urlUtils":46,"./utilityFunctions":47}],44:[function(b,c,a){c.exports={html5:["text/javascript","text/javascript1.0","text/javascript1.2","text/javascript1.4","text/jscript","application/javascript","application/x-javascript","text/ecmascript","text/ecmascript1.0","text/ecmascript1.2","text/ecmascript1.4","text/livescript","application/ecmascript","application/x-ecmascript",],flash:["application/x-shockwave-flash"],}},{}],45:[function(f,c,i){var h=f("./dom");var d=f("./utilityFunctions");var j={};j.getPlayerSnapshot=function a(m){var k=m.el().querySelector(".vjs-tech");var l={ended:m.ended(),src:m.currentSrc(),currentTime:m.currentTime(),type:m.currentType(),playing:!m.paused(),suppressedTracks:n(m)};if(k){l.nativePoster=k.poster;l.style=k.getAttribute("style")}return l;function n(q){var p=q.remoteTextTracks?q.remoteTextTracks():[];if(p&&d.isArray(p.tracks_)){p=p.tracks_}if(!d.isArray(p)){p=[]}var o=[];p.forEach(function(r){o.push({track:r,mode:r.mode});r.mode="disabled"});return o}};j.restorePlayerSnapshot=function g(r,p){var m=r.el().querySelector(".vjs-tech");var q=20;if(p.nativePoster){m.poster=p.nativePoster}if(p&&"style" in p){if(m){m.setAttribute("style",p.style||"")}}if(l(r,p)){r.one("contentloadedmetadata",n);r.one("canplay",k);o();r.src({src:p.src,type:p.type});r.load()}else{n();if(p.playing){r.play()}}function o(){var s=setTimeout(function(){r.trigger("canplay")},1000);r.one("canplay",function(){clearTimeout(s)})}function l(t,s){if(t.src()){return t.src()!==s.src}return t.currentSrc()!==s.src}function n(){var s=p.suppressedTracks;s.forEach(function(t){t.track.mode=t.mode})}function k(){}};j.isReadyToResume=function(k){if(k.readyState()>1){return true}if(k.seekable()===undefined){return true}if(k.seekable().length>0){return true}return false};j.prepareForAds=function(u){var k=u.addChild("blackPoster");var x=true;var n;r();u.on("play",y);u.on("vast.reset",l);u.on("vast.firstPlay",w);u.on("error",s);u.on("vast.adStart",s);u.on("vast.adsCancel",s);u.on("vast.adError",s);u.on("vast.adStart",o);u.on("vast.adEnd",v);u.on("vast.adsCancel",v);function r(){var B=u.play;u.play=function(E){var D=this;if(t()){F()}else{C(E)}return this;function F(){if(!d.isIPhone()){n=m();u.muted(true)}B.apply(D,arguments)}function C(G){if(p()&&!G){u.vast.adUnit.resumeAd()}else{B.apply(D,arguments)}}};var A=u.pause;u.pause=function(C){if(p()&&!C){u.vast.adUnit.pauseAd()}else{A.apply(this,arguments)}return this};var z=u.paused;u.paused=function(C){if(p()&&!C){return u.vast.adUnit.isPaused()}return z.apply(this,arguments)}}function p(){return u.vast&&u.vast.adUnit}function y(){if(t()){x=false;u.trigger("vast.firstPlay")}}function l(){x=true;k.show();w()}function t(){return x}function m(){return{muted:u.muted(),volume:u.volume()}}function w(){if(n){u.currentTime(0);q(n);n=null}}function q(z){if(d.isObject(z)){u.volume(z.volume);u.muted(z.muted)}}function s(){if(!h.hasClass(k.el(),"vjs-hidden")){k.hide()}}function o(){h.addClass(u.el(),"vjs-ad-playing")}function v(){h.removeClass(u.el(),"vjs-ad-playing")}};j.removeNativePoster=function(l){var k=l.el().querySelector(".vjs-tech");if(k){k.removeAttribute("poster")}};j.once=function b(l,k,m){function n(){m.apply(null,arguments);k.forEach(function(o){l.off(o,n)})}k.forEach(function(o){l.on(o,n)})};c.exports=j},{"./dom":42,"./utilityFunctions":47}],46:[function(d,b,g){var c=d("./utilityFunctions");var f=document.createElement("a");var h=document.documentMode;function a(l){var k=l;if(h){f.setAttribute("href",k);k=f.href}f.setAttribute("href",k);return{href:f.href,protocol:f.protocol?f.protocol.replace(/:$/,""):"",host:f.host,search:f.search?f.search.replace(/^\?/,""):"",hash:f.hash?f.hash.replace(/^#/,""):"",hostname:f.hostname,port:c.isNotEmptyString(f.port)?f.port:80,pathname:(f.pathname.charAt(0)==="/")?f.pathname:"/"+f.pathname}}function j(k,l){var n,m;l=c.isFunction(l)?l:function(){return true};k=k.trim().replace(/^\?/,"");n=k.split("&");m={};c.forEach(n,function(r){var q,o,p;if(r!==""){q=r.split("=");o=q[0];p=q[1];if(l(o,p)){m[o]=p}}});return m}function i(l){var k=[];c.forEach(l,function(n,m){k.push(m+"="+n)});return k.join("&")}b.exports={urlParts:a,queryStringToObj:j,objToQueryString:i}},{"./utilityFunctions":47}],47:[function(d,c,L){var o=1;var i=/[A-Z]/g;var D=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)+$/i;var J=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;function N(){}function K(Q){return Q===null}function u(Q){return Q!==undefined}function t(Q){return Q===undefined}function H(Q){return typeof Q==="object"}function r(Q){return typeof Q==="function"}function P(Q){return typeof Q==="number"}function I(Q){return v.isObject(Q)&&Q.window===Q}function w(Q){return Object.prototype.toString.call(Q)==="[object Array]"}function E(R){if(R===null||v.isWindow(R)||v.isFunction(R)||v.isUndefined(R)){return false}var Q=R.length;if(R.nodeType===o&&Q){return true}return v.isString(R)||v.isArray(R)||Q===0||typeof Q==="number"&&Q>0&&(Q-1) in R}function m(Q){return typeof Q==="string"}function g(Q){return v.isString(Q)&&Q.length===0}function b(Q){return v.isString(Q)&&Q.length!==0}function B(Q){return Array.prototype.slice.call(Q)}function a(V,T,S){var R,U;if(V){if(r(V)){for(R in V){if(R!=="prototype"&&R!=="length"&&R!=="name"&&(!V.hasOwnProperty||V.hasOwnProperty(R))){T.call(S,V[R],R,V)}}}else{if(w(V)){var Q=typeof V!=="object";for(R=0,U=V.length;R<U;R++){if(Q||R in V){T.call(S,V[R],R,V)}}}else{if(V.forEach&&V.forEach!==a){V.forEach(T,S,V)}else{for(R in V){if(V.hasOwnProperty(R)){T.call(S,V[R],R,V)}}}}}}return V}function A(Q,R){R=R||"_";return Q.replace(i,function(S,T){return(T?R:"")+S.toLowerCase()})}function y(Q){if(!v.isString(Q)){return false}return D.test(Q.trim())}function n(T){var Q,S,R;for(S=1;S<arguments.length;S++){Q=arguments[S];for(R in Q){if(Q.hasOwnProperty(R)){if(H(T[R])&&!K(T[R])&&H(Q[R])){T[R]=n({},T[R],Q[R])}else{T[R]=Q[R]}}}}return T}function z(Q){return Q.charAt(0).toUpperCase()+Q.slice(1)}function x(Q){return Q.charAt(0).toLowerCase()+Q.slice(1)}function p(S,Q){var R=[];S.forEach(function(V,U){var T=Q(V,U);if(v.isDefined(T)){R.push(T)}});return R}function h(Q,S){var R=Q+"";S=v.isNumber(S)?S:0;Q=v.isNumber(Q)?Q:parseInt(Q,10);if(v.isNumber(Q)&&!isNaN(Q)){R=Q+"";while(R.length<S){R="0"+R}return R}return NaN+""}function F(S,R){var Q=new Date().getTime()-(R+1);return function(){var T=new Date().getTime();if((T-Q)>=R){Q=T;S.apply(this,arguments)}}}function k(S,Q){var R;return function(){if(R){clearTimeout(R)}R=setTimeout(function(){S.apply(this,arguments);R=undefined},Q)}}function l(Q,V,U){var S=V(Q);for(var R=0;R<S.length;R++){if(U(S[R])){return S[R]}else{var T=l(S[R],V,U);if(T){return T}}}}function M(Q){return function(){return Q}}function G(Q){if(v.isNumber(Q)){Q=Q+""}if(!v.isString(Q)){return false}return J.test(Q.trim())}function j(){var Q=v.getInternetExplorerVersion(navigator);if(Q===-1){return false}return Q<10}function s(Q){var U=-1;if(Q.appName=="Microsoft Internet Explorer"){var S=Q.userAgent;var T=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");var R=T.exec(S);if(R!==null){U=parseFloat(R[1])}}return U}function q(){return/iP(hone|ad)/.test(v._UA)}function C(){return/iP(hone|ad|od)|Android|Windows Phone/.test(v._UA)}function f(){return/iP(hone|od)/.test(v._UA)}function O(){return/Android/.test(v._UA)}var v={_UA:navigator.userAgent,noop:N,isNull:K,isDefined:u,isUndefined:t,isObject:H,isFunction:r,isNumber:P,isWindow:I,isArray:w,isArrayLike:E,isString:m,isEmptyString:g,isNotEmptyString:b,arrayLikeObjToArray:B,forEach:a,snake_case:A,isValidEmail:y,extend:n,capitalize:z,decapitalize:x,transformArray:p,toFixedDigits:h,throttle:F,debounce:k,treeSearch:l,echoFn:M,isISO8601:G,isOldIE:j,getInternetExplorerVersion:s,isIDevice:q,isMobile:C,isIPhone:f,isAndroid:O};c.exports=v},{}],48:[function(f,b,h){var c=f("./utilityFunctions");var i={};i.strToXMLDoc=function g(q){if(typeof window.DOMParser==="undefined"){var r=new ActiveXObject("Microsoft.XMLDOM");r.async=false;r.loadXML(q);return r}return o(q);function o(t){var v=new DOMParser();var s;try{s=v.parseFromString(t,"application/xml");if(p(s)||c.isEmptyString(t)){throw new Error()}}catch(u){throw new Error("xml.strToXMLDOC: Error parsing the string: '"+t+"'")}return s}function p(t){try{var w=new DOMParser(),v=w.parseFromString("INVALID","text/xml"),s=v.getElementsByTagName("parsererror")[0].namespaceURI;if(s==="http://www.w3.org/1999/xhtml"){return t.getElementsByTagName("parsererror").length>0}return t.getElementsByTagNameNS(s,"parsererror").length>0}catch(u){}}};i.parseText=function k(o){if(/^\s*$/.test(o)){return null}if(/^(?:true|false)$/i.test(o)){return o.toLowerCase()==="true"}if(isFinite(o)){return parseFloat(o)}if(c.isISO8601(o)){return new Date(o)}return o.trim()};i.JXONTree=function d(x){var t=i.parseText;if(x.documentElement){return new i.JXONTree(x.documentElement)}if(x.hasChildNodes()){var o="";for(var w,r,v,u=0;u<x.childNodes.length;u++){w=x.childNodes.item(u);if((w.nodeType-1|1)===3){o+=w.nodeType===3?w.nodeValue.trim():w.nodeValue}else{if(w.nodeType===1&&!w.prefix){r=c.decapitalize(w.nodeName);v=new i.JXONTree(w);if(this.hasOwnProperty(r)){if(this[r].constructor!==Array){this[r]=[this[r]]}this[r].push(v)}else{this[r]=v}}}}if(o){this.keyValue=t(o)}}var p=typeof x.hasAttributes==="undefined"?x.attributes.length>0:x.hasAttributes();if(p){var s;for(var q=0;q<x.attributes.length;q++){s=x.attributes.item(q);this["@"+c.decapitalize(s.name)]=t(s.value.trim())}}};i.JXONTree.prototype.attr=function(o){return this["@"+c.decapitalize(o)]};i.toJXONTree=function m(p){var o=i.strToXMLDoc(p);return new i.JXONTree(o)};i.keyValue=function l(o){if(o){return o.keyValue}return undefined};i.attr=function a(p,o){if(p){return p["@"+c.decapitalize(o)]}return undefined};i.encode=function j(o){if(!c.isString(o)){return undefined}return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")};i.decode=function n(o){if(!c.isString(o)){return undefined}return o.replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")};b.exports=i},{"./utilityFunctions":47}],49:[function(b,c,a){b("./plugin/components/ads-label_5");b("./plugin/components/black-poster_5");var d=b("./plugin/videojs.vast.vpaid");videojs.plugin("vastClient",d)},{"./plugin/components/ads-label_5":36,"./plugin/components/black-poster_5":38,"./plugin/videojs.vast.vpaid":39}]},{},[49]);